[{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"beeca Package - Potential Enhancements","text":"document brainstorms potential enhancements beeca package based current implementation user needs. Enhancements categorized theme priority.","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_11-additional-variance-estimators","dir":"","previous_headings":"1. Statistical Methods & Variance Estimation","what":"1.1 Additional Variance Estimators","title":"beeca Package - Potential Enhancements","text":"Priority: Medium-High Description: Extend variance estimation options beyond Ge Ye methods. Potential additions: - Bootstrap methods (parametric, non-parametric, wild bootstrap) - Pro: Model-agnostic, handles complex designs - Con: Computationally intensive, requires careful implementation - Use case: asymptotic assumptions questionable Pro: Simple, robust Con: Can conservative Use case: Small moderate sample sizes Pro: Exact inference randomization Con: Limited certain designs Use case: Stratified randomization small strata Implementation approach:","code":"get_marginal_effect(..., method = c(\"Ge\", \"Ye\", \"bootstrap\", \"jackknife\"))"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_12-finite-sample-corrections","dir":"","previous_headings":"1. Statistical Methods & Variance Estimation","what":"1.2 Finite Sample Corrections","title":"beeca Package - Potential Enhancements","text":"Priority: Medium Description: Add small-sample corrections variance estimators. Options: - Kenward-Roger style corrections - Satterthwaite degrees freedom adjustments - Bias-corrected sandwich estimators (HC4m, HC5) Rationale: Current methods rely asymptotic theory; small trials need better coverage.","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_13-heteroskedasticity-robust-tests","dir":"","previous_headings":"1. Statistical Methods & Variance Estimation","what":"1.3 Heteroskedasticity-Robust Tests","title":"beeca Package - Potential Enhancements","text":"Priority: Low-Medium Description: Add hypothesis testing functions robust variance.","code":"test_marginal_effect(fit,                      null_value = 0,                      alternative = c(\"two.sided\", \"greater\", \"less\"),                      method = c(\"wald\", \"score\", \"likelihood\"))"},{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_21-multiple-outcome-support","dir":"","previous_headings":"2. Model Extensions","what":"2.1 Multiple Outcome Support","title":"beeca Package - Potential Enhancements","text":"Priority: High Description: Handle multiple endpoints single analysis. Use cases: - Primary + secondary endpoints - Multiple timepoints - Composite endpoints Implementation:","code":"# Multiple separate outcomes fit_multi <- glm_list(   list(aval1 ~ trtp + bl_cov1,        aval2 ~ trtp + bl_cov2),   family = \"binomial\",   data = trial01 ) |>   get_marginal_effect_multi(trt = \"trtp\", adjust_multiplicity = TRUE)  # Joint testing joint_test(fit_multi, method = \"bonferroni\")"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_22-time-to-event-extension","dir":"","previous_headings":"2. Model Extensions","what":"2.2 Time-to-Event Extension","title":"beeca Package - Potential Enhancements","text":"Priority: Medium Description: Extend survival outcomes covariate adjustment. Approaches: - Cox model g-computation marginal hazard ratios - Restricted mean survival time (RMST) differences - Pseudo-observation methods Note: May warrant separate package (e.g., beeca.survival)","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_23-continuous-outcome-support","dir":"","previous_headings":"2. Model Extensions","what":"2.3 Continuous Outcome Support","title":"beeca Package - Potential Enhancements","text":"Priority: Medium-High Description: Extend beyond binary continuous outcomes. Methods: - Linear regression working models - Robust variance mean differences - Variance estimation non-normal outcomes Implementation:","code":"fit_cont <- glm(aval_cont ~ trtp + bl_cov, family = gaussian, data = trial01) |>   get_marginal_effect(trt = \"trtp\", method = \"HC3\", contrast = \"diff\")"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_24-ordinal-outcome-support","dir":"","previous_headings":"2. Model Extensions","what":"2.4 Ordinal Outcome Support","title":"beeca Package - Potential Enhancements","text":"Priority: Low-Medium Description: Handle ordered categorical outcomes. Methods: - Proportional odds models - Win ratio / Mann-Whitney estimands - Marginal cumulative probabilities","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_31-subgroup-analysis-framework","dir":"","previous_headings":"3. Design & Analysis Features","what":"3.1 Subgroup Analysis Framework","title":"beeca Package - Potential Enhancements","text":"Priority: High Description: Structured approach subgroup interaction analysis.","code":"# Subgroup-specific treatment effects fit_subgroup <- get_marginal_effect(   fit, trt = \"trtp\",   subgroups = c(\"age_group\", \"baseline_severity\"),   interaction_test = TRUE )  # Forest plot friendly output forest_data(fit_subgroup)"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_32-non-inferiority--equivalence-testing","dir":"","previous_headings":"3. Design & Analysis Features","what":"3.2 Non-Inferiority & Equivalence Testing","title":"beeca Package - Potential Enhancements","text":"Priority: Medium-High Description: Dedicated functions non-inferiority/equivalence.","code":"test_noninferiority(fit,                     margin = -0.10,  # Non-inferiority margin                     alpha = 0.025,                     method = c(\"risk_difference\", \"risk_ratio\"))  test_equivalence(fit,                  lower = -0.10,                  upper = 0.10,                  alpha = 0.05)"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_33-covariate-balance-diagnostics","dir":"","previous_headings":"3. Design & Analysis Features","what":"3.3 Covariate Balance Diagnostics","title":"beeca Package - Potential Enhancements","text":"Priority: Medium Description: Tools assess visualize covariate balance.","code":"# Balance assessment balance_check(data = trial01,               trt = \"trtp\",               covariates = c(\"age\", \"sex\", \"baseline_severity\"),               standardize = TRUE)  # Propensity score diagnostics (for observational studies extension)"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_34-missing-data-handling","dir":"","previous_headings":"3. Design & Analysis Features","what":"3.4 Missing Data Handling","title":"beeca Package - Potential Enhancements","text":"Priority: High Description: Integrated missing data methods. Options: - Multiple imputation integration - Inverse probability weighting - Doubly robust estimation","code":"# Integration with mice/missForest library(mice) imp <- mice(trial01, m = 20) fit_mi <- with(imp, {   glm(aval ~ trtp + bl_cov, family = \"binomial\") |>     get_marginal_effect(trt = \"trtp\") }) |>   pool_marginal_effects()"},{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_41-enhanced-cardscardx-integration","dir":"","previous_headings":"4. Output & Reporting Enhancements","what":"4.1 Enhanced cards/cardx Integration","title":"beeca Package - Potential Enhancements","text":"Priority: Medium-High Description: Native cards ARD output option.","code":"get_marginal_effect(..., ard_format = c(\"beeca\", \"cards\"))  # Or conversion as_card(fit1$marginal_results, add_formatting = TRUE)"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_42-plotting-functions","dir":"","previous_headings":"4. Output & Reporting Enhancements","what":"4.2 Plotting Functions","title":"beeca Package - Potential Enhancements","text":"Priority: High Description: Built-visualization methods. Plot types: - Forest plots treatment effects - Covariate-adjusted response curves - Individual treatment effect distributions - Diagnostic plots (residuals, influence)","code":"# S3 plot method plot(fit, type = c(\"forest\", \"effects\", \"diagnostics\"))  # Using augmented data augmented_data <- augment(fit) plot_ite_distribution(augmented_data) plot_conditional_effects(augmented_data, by = \"bl_cov\")"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_43-table-generation","dir":"","previous_headings":"4. Output & Reporting Enhancements","what":"4.3 Table Generation","title":"beeca Package - Potential Enhancements","text":"Priority: Medium Description: Publication-ready table functions.","code":"# Integration with gt/flextable table_marginal_effects(fit,                        include_ci = TRUE,                        format = c(\"gt\", \"flextable\", \"kable\"),                        footer = \"FDA-compliant footnotes\")  # CSR-ready tables csr_table(fit, template = \"ICH_E9_R1\")"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_44-report-generation","dir":"","previous_headings":"4. Output & Reporting Enhancements","what":"4.4 Report Generation","title":"beeca Package - Potential Enhancements","text":"Priority: Low-Medium Description: Automated analysis reports.","code":"# Quarto/RMarkdown template beeca_report(fit,              output_format = c(\"html\", \"pdf\", \"word\"),              template = \"clinical_trial\",              include_diagnostics = TRUE)"},{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_51-parallelization-support","dir":"","previous_headings":"5. Performance & Scalability","what":"5.1 Parallelization Support","title":"beeca Package - Potential Enhancements","text":"Priority: Medium Description: Parallel computing bootstrap/permutation methods.","code":"get_marginal_effect(...,                     method = \"bootstrap\",                     n_boot = 10000,                     parallel = TRUE,                     n_cores = 8)"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_52-large-dataset-optimization","dir":"","previous_headings":"5. Performance & Scalability","what":"5.2 Large Dataset Optimization","title":"beeca Package - Potential Enhancements","text":"Priority: Low-Medium Description: Memory-efficient implementations large N. Approaches: - Sparse matrix operations - Chunked processing - Online variance updates","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_53-c-backend-for-critical-paths","dir":"","previous_headings":"5. Performance & Scalability","what":"5.3 C++ Backend for Critical Paths","title":"beeca Package - Potential Enhancements","text":"Priority: Low Description: Rcpp implementations computationally intensive operations. Targets: - Variance matrix calculations - Bootstrap resampling - G-computation iterations","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_61-enhanced-validation--messages","dir":"","previous_headings":"6. User Experience Improvements","what":"6.1 Enhanced Validation & Messages","title":"beeca Package - Potential Enhancements","text":"Priority: Medium-High Description: Better error messages warnings. Improvements: - Informative error messages suggestions - Progress bars long-running operations - Diagnostic warnings (convergence, separation, sparse cells)","code":"# Example improved message # Current: \"Error in get_marginal_effect: Invalid trt\" # Improved: \"Error in get_marginal_effect(): #            Treatment variable 'trt' not found in model. #            Did you mean 'trtp'? Available variables: trtp, bl_cov, age\""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_62-interactive-shiny-application","dir":"","previous_headings":"6. User Experience Improvements","what":"6.2 Interactive Shiny Application","title":"beeca Package - Potential Enhancements","text":"Priority: Low-Medium Description: Web interface exploratory analysis. Features: - Point--click analysis setup - Interactive visualizations - Real-time diagnostics - Export R code","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_63-workflow-helper-functions","dir":"","previous_headings":"6. User Experience Improvements","what":"6.3 Workflow Helper Functions","title":"beeca Package - Potential Enhancements","text":"Priority: Medium Description: Convenience functions common workflows.","code":"# Quick analysis pipeline beeca_pipeline(   data = trial01,   outcome = \"aval\",   treatment = \"trtp\",   covariates = c(\"age\", \"sex\", \"baseline_score\"),   method = \"Ye\",   generate_report = TRUE )  # Template generator beeca_template(type = c(\"script\", \"quarto\", \"shiny\"))"},{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_71-integration-with-validation-frameworks","dir":"","previous_headings":"7. Integration & Interoperability","what":"7.1 Integration with Validation Frameworks","title":"beeca Package - Potential Enhancements","text":"Priority: Medium Description: Support GxP validation. Features: - Validation documentation - Test qualification - Traceability matrix - 21 CFR Part 11 considerations","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_72-cdiscadam-integration","dir":"","previous_headings":"7. Integration & Interoperability","what":"7.2 CDISC/ADaM Integration","title":"beeca Package - Potential Enhancements","text":"Priority: High Description: Direct support CDISC datasets.","code":"# Recognize CDISC variables automatically fit_cdisc <- beeca_adam(   data = adtte,  # ADaM dataset   param = \"OS\",   trt_var = \"TRT01P\",   adjust_vars = c(\"AGE\", \"SEX\", \"BMIBL\"),   strata = \"STRATA1\" )"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_73-integration-with-meta-analysis-tools","dir":"","previous_headings":"7. Integration & Interoperability","what":"7.3 Integration with Meta-Analysis Tools","title":"beeca Package - Potential Enhancements","text":"Priority: Low-Medium Description: Facilitate meta-analysis beeca results.","code":"# Export for meta-analysis meta_format(fit, study_id = \"STUDY001\")  # Pool across studies pool_studies(list(fit1, fit2, fit3), method = \"fixed_effects\")"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_74-sas-macro-compatibility","dir":"","previous_headings":"7. Integration & Interoperability","what":"7.4 SAS Macro Compatibility","title":"beeca Package - Potential Enhancements","text":"Priority: Medium Description: Exact matching SAS %margins output. Features: - Identical parameter names - Matching output structure - Cross-validation utilities - Migration guides","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_81-adaptive-design-support","dir":"","previous_headings":"8. Advanced Statistical Features","what":"8.1 Adaptive Design Support","title":"beeca Package - Potential Enhancements","text":"Priority: Low-Medium Description: Methods adaptive trials. Features: - Group sequential designs - Sample size re-estimation - Conditional power calculations","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_82-bayesian-extension","dir":"","previous_headings":"8. Advanced Statistical Features","what":"8.2 Bayesian Extension","title":"beeca Package - Potential Enhancements","text":"Priority: Low Description: Bayesian marginal effects estimation.","code":"fit_bayes <- glm_bayes(aval ~ trtp + bl_cov,                        family = \"binomial\",                        data = trial01,                        prior = normal(0, 1)) |>   get_marginal_effect_bayes(trt = \"trtp\")  # Posterior distributions posterior_summary(fit_bayes)"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_83-sensitivity-analysis-tools","dir":"","previous_headings":"8. Advanced Statistical Features","what":"8.3 Sensitivity Analysis Tools","title":"beeca Package - Potential Enhancements","text":"Priority: Medium Description: Systematic sensitivity analyses.","code":"# Sensitivity to model specification sensitivity_model(   formulas = list(     ~ trtp + age,     ~ trtp + age + sex,     ~ trtp + age + sex + baseline   ),   data = trial01 )  # Sensitivity to missing data assumptions sensitivity_missing(fit, scenarios = c(\"MAR\", \"MNAR\"))"},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_84-causal-inference-extensions","dir":"","previous_headings":"8. Advanced Statistical Features","what":"8.4 Causal Inference Extensions","title":"beeca Package - Potential Enhancements","text":"Priority: Medium Description: Strengthen causal interpretation tools. Features: - Instrumental variable methods - Difference--differences - Regression discontinuity designs - Mediation analysis","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_91-enhanced-vignettes","dir":"","previous_headings":"9. Documentation & Education","what":"9.1 Enhanced Vignettes","title":"beeca Package - Potential Enhancements","text":"Priority: High Description: Comprehensive tutorial vignettes. Topics: - Getting started guide - Choosing variance estimators - Interpreting results - Common pitfalls - Real-world case studies - Regulatory considerations - Comparison methods/software","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_92-video-tutorials","dir":"","previous_headings":"9. Documentation & Education","what":"9.2 Video Tutorials","title":"beeca Package - Potential Enhancements","text":"Priority: Low Description: Screencasts webinars.","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_93-cheat-sheet","dir":"","previous_headings":"9. Documentation & Education","what":"9.3 Cheat Sheet","title":"beeca Package - Potential Enhancements","text":"Priority: Medium Description: Quick reference guide. Format: RStudio-style PDF cheat sheet","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_94-benchmark-studies","dir":"","previous_headings":"9. Documentation & Education","what":"9.4 Benchmark Studies","title":"beeca Package - Potential Enhancements","text":"Priority: Medium-High Description: Performance comparisons documentation. Comparisons: - beeca vs SAS %margins - beeca vs RobinCar - beeca vs marginaleffects - Speed benchmarks - Numerical accuracy","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_101-expanded-test-coverage","dir":"","previous_headings":"10. Quality & Maintenance","what":"10.1 Expanded Test Coverage","title":"beeca Package - Potential Enhancements","text":"Priority: High Description: Increase test coverage >95%. Focus areas: - Edge cases (perfect separation, sparse data) - Numerical stability - Cross-validation published results - Simulation-based validation","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_102-continuous-integration-enhancements","dir":"","previous_headings":"10. Quality & Maintenance","what":"10.2 Continuous Integration Enhancements","title":"beeca Package - Potential Enhancements","text":"Priority: Medium Description: Robust CI/CD pipeline. Features: - Multi-platform testing (Windows, Mac, Linux) - Multiple R versions - Performance regression testing - Memory profiling","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"id_103-reproducibility-tools","dir":"","previous_headings":"10. Quality & Maintenance","what":"10.3 Reproducibility Tools","title":"beeca Package - Potential Enhancements","text":"Priority: Medium Description: Ensure analysis reproducibility. Features: - Session info capture - Seed management bootstrap - Version pinning utilities - Docker containers","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"immediate-next-release","dir":"","previous_headings":"Priority Summary","what":"Immediate (Next Release)","title":"beeca Package - Potential Enhancements","text":"Enhanced vignettes documentation Missing data handling framework Subgroup analysis support Plotting functions (forest plots, effects) cards/cardx native integration","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"short-term-6-12-months","dir":"","previous_headings":"Priority Summary","what":"Short-term (6-12 months)","title":"beeca Package - Potential Enhancements","text":"Non-inferiority testing Continuous outcome support Multiple outcome handling Enhanced validation messages CDISC/ADaM integration","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"medium-term-1-2-years","dir":"","previous_headings":"Priority Summary","what":"Medium-term (1-2 years)","title":"beeca Package - Potential Enhancements","text":"Bootstrap variance estimation Sensitivity analysis tools Table generation functions SAS macro exact compatibility Performance optimization","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"long-term-2-years","dir":"","previous_headings":"Priority Summary","what":"Long-term (2+ years)","title":"beeca Package - Potential Enhancements","text":"Survival outcome extension (separate package) Bayesian methods Shiny application Advanced causal inference methods Adaptive design support","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"backward-compatibility","dir":"","previous_headings":"Implementation Considerations","what":"Backward Compatibility","title":"beeca Package - Potential Enhancements","text":"enhancements maintain backward compatibility Deprecation warnings API changes Minimum 2-version deprecation cycle","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"package-size","dir":"","previous_headings":"Implementation Considerations","what":"Package Size","title":"beeca Package - Potential Enhancements","text":"Keep core package lightweight beeca.plots - Visualization beeca.survival - Time--event beeca.bayes - Bayesian methods beeca.validate - GxP validation","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"dependencies","dir":"","previous_headings":"Implementation Considerations","what":"Dependencies","title":"beeca Package - Potential Enhancements","text":"Minimize new hard dependencies Use Suggests optional features Consider system requirements carefully","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"performance","dir":"","previous_headings":"Implementation Considerations","what":"Performance","title":"beeca Package - Potential Enhancements","text":"Profile optimizing Use benchmarking critical paths Document computational complexity","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"feature-requests","dir":"","previous_headings":"Community Engagement","what":"Feature Requests","title":"beeca Package - Potential Enhancements","text":"GitHub issues feature requests Community voting priorities Regular user surveys","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"collaboration-opportunities","dir":"","previous_headings":"Community Engagement","what":"Collaboration Opportunities","title":"beeca Package - Potential Enhancements","text":"ASA-BIOP CARS Working Group PSI (Statisticians Pharmaceutical Industry) EFSPI (European Federation Statisticians) Open Pharma working groups","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"code-contributions","dir":"","previous_headings":"Community Engagement","what":"Code Contributions","title":"beeca Package - Potential Enhancements","text":"Clear contribution guidelines Code review process Acknowledging contributors","code":""},{"path":"https://openpharma.github.io/beeca/ENHANCEMENTS.html","id":"conclusion","dir":"","previous_headings":"","what":"Conclusion","title":"beeca Package - Potential Enhancements","text":"document outlines comprehensive roadmap beeca development. Priorities guided : 1. User needs feedback 2. Regulatory requirements 3. Scientific rigor 4. Maintainability 5. Community input package remain focused core mission: providing simple, reliable, well-validated implementation covariate-adjusted marginal effects binary outcomes clinical trials.","code":""},{"path":[]},{"path":[]},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"id_11-forest-plot-for-treatment-effects","dir":"","previous_headings":"Phase 1: Core Plotting Functions (Category 4.2)","what":"1.1 Forest Plot for Treatment Effects","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Priority: High Estimated effort: Medium Implementation: Features: - Point estimates confidence intervals - Reference line null effect - Flexible customization (colors, labels) - Support multiple contrasts (3+ arm trials) - Optional subgroup display Dependencies: ggplot2 (Suggests)","code":"# R/plot_forest.R plot_forest.beeca <- function(x,                               conf.level = 0.95,                               show_heterogeneity = FALSE,                               title = NULL,                               ...) {   # Extract treatment effect estimates   # Create forest plot using ggplot2   # Return ggplot object }"},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"id_12-diagnostic-plots","dir":"","previous_headings":"Phase 1: Core Plotting Functions (Category 4.2)","what":"1.2 Diagnostic Plots","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Priority: Medium Estimated effort: Medium Implementation: Features: - Standard GLM diagnostics extended beeca - Influence diagnostics - Covariate balance visualization - Multi-panel layout","code":"# R/plot_diagnostics.R plot_diagnostics.beeca <- function(x,                                    which = c(1:4),                                    ask = FALSE,                                    ...) {   # 1. Residuals vs fitted   # 2. Q-Q plot   # 3. Scale-Location   # 4. Cook's distance   # 5. Leverage plot   # 6. Covariate balance }"},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"id_13-effect-plots","dir":"","previous_headings":"Phase 1: Core Plotting Functions (Category 4.2)","what":"1.3 Effect Plots","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Priority: Medium-High Estimated effort: Medium Implementation: Features: - Marginal risk comparison (bar chart point range) - Conditional effects across continuous covariates - Individual treatment effect (ITE) distribution (histogram/density) - Customizable themes","code":"# R/plot_effects.R plot_effects.beeca <- function(x,                                covariate = NULL,                                type = c(\"marginal\", \"conditional\", \"ite\"),                                ...) {   # Marginal: Bar/point plot of marginal risks   # Conditional: Effects across covariate values   # ITE: Individual treatment effect distribution }"},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"id_14-s3-plot-method-dispatcher","dir":"","previous_headings":"Phase 1: Core Plotting Functions (Category 4.2)","what":"1.4 S3 Plot Method Dispatcher","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Priority: High Estimated effort: Low Implementation:","code":"# R/plot.R #' Plot method for beeca objects #' #' @export plot.beeca <- function(x,                        type = c(\"forest\", \"effects\", \"diagnostics\"),                        ...) {   type <- match.arg(type)    switch(type,     forest = plot_forest(x, ...),     effects = plot_effects(x, ...),     diagnostics = plot_diagnostics(x, ...)   ) }"},{"path":[]},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"id_21-informative-error-messages","dir":"","previous_headings":"Phase 2: Enhanced Error Messages (Category 6.1)","what":"2.1 Informative Error Messages","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Priority: High Estimated effort: Low-Medium Current state: Enhanced: Apply : - Invalid treatment variable - Model validation failures - Misspecified contrasts - Incompatible stratification - Convergence issues","code":"# Current (example) stop(\"Invalid trt\") # R/utils_messages.R stop_invalid_trt <- function(trt, available_vars) {   msg <- sprintf(     \"Treatment variable '%s' not found in model.\\n\",     trt   )    # Suggest similar variables   suggestions <- agrep(trt, available_vars, value = TRUE, max.distance = 2)   if (length(suggestions) > 0) {     msg <- paste0(msg, sprintf(\"Did you mean: %s?\",                                paste(suggestions, collapse = \", \")))   } else {     msg <- paste0(msg, sprintf(\"Available variables: %s\",                                paste(available_vars, collapse = \", \")))   }    stop(msg, call. = FALSE) }"},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"id_22-diagnostic-warnings","dir":"","previous_headings":"Phase 2: Enhanced Error Messages (Category 6.1)","what":"2.2 Diagnostic Warnings","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Priority: Medium Estimated effort: Low Implementation:","code":"# R/diagnostics.R check_model_diagnostics <- function(object, warn = TRUE) {   issues <- list()    # Check for separation   if (has_separation(object)) {     issues$separation <- \"Perfect/quasi-separation detected. Estimates may be unreliable.\"   }    # Check for sparse cells   sparse_cells <- check_sparse_cells(object)   if (sparse_cells$has_sparse) {     issues$sparse <- sprintf(       \"Sparse cells detected in %s. Consider collapsing categories.\",       sparse_cells$variables     )   }    # Check convergence   if (!object$converged) {     issues$convergence <- \"Model did not converge. Consider rescaling covariates.\"   }    # Check influential points   influential <- check_influence(object)   if (influential$has_influential) {     issues$influence <- sprintf(       \"%d observations have high influence (Cook's D > 1).\",       influential$n     )   }    if (warn && length(issues) > 0) {     for (issue in issues) {       warning(issue, call. = FALSE)     }   }    invisible(issues) }"},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"id_23-progress-indicators","dir":"","previous_headings":"Phase 2: Enhanced Error Messages (Category 6.1)","what":"2.3 Progress Indicators","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Priority: Low-Medium Estimated effort: Low Implementation:","code":"# For bootstrap methods (future enhancement) library(cli)  # Suggests  get_marginal_effect_bootstrap <- function(..., n_boot = 1000, verbose = TRUE) {   if (verbose) {     cli_progress_bar(\"Bootstrap resampling\", total = n_boot)   }    for (i in seq_len(n_boot)) {     # Bootstrap iteration     if (verbose) cli_progress_update()   }    if (verbose) cli_progress_done() }"},{"path":[]},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"id_31-quick-analysis-function","dir":"","previous_headings":"Phase 3: Workflow Helpers (Category 6.3)","what":"3.1 Quick Analysis Function","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Priority: Medium-High Estimated effort: Medium Implementation: Usage:","code":"# R/beeca_fit.R #' Quick beeca analysis pipeline #' #' @export beeca_fit <- function(data,                       outcome,                       treatment,                       covariates = NULL,                       method = c(\"Ye\", \"Ge\"),                       contrast = c(\"diff\", \"rr\", \"or\"),                       reference = NULL,                       strata = NULL,                       family = binomial(),                       ...) {    method <- match.arg(method)   contrast <- match.arg(contrast)    # Validate inputs   stopifnot(     is.data.frame(data),     outcome %in% names(data),     treatment %in% names(data)   )    # Ensure treatment is factor   if (!is.factor(data[[treatment]])) {     message(sprintf(\"Converting %s to factor\", treatment))     data[[treatment]] <- as.factor(data[[treatment]])   }    # Build formula   if (is.null(covariates)) {     formula <- as.formula(sprintf(\"%s ~ %s\", outcome, treatment))   } else {     cov_str <- paste(covariates, collapse = \" + \")     formula <- as.formula(sprintf(\"%s ~ %s + %s\", outcome, treatment, cov_str))   }    # Fit model   message(\"Fitting logistic regression model...\")   fit <- glm(formula, family = family, data = data)    # Get marginal effect   message(sprintf(\"Computing marginal effects (method: %s, contrast: %s)...\",                   method, contrast))   result <- get_marginal_effect(     fit,     trt = treatment,     strata = strata,     method = method,     contrast = contrast,     reference = reference,     ...   )    message(\"Done!\")   result } # Simple workflow fit <- beeca_fit(   data = trial01,   outcome = \"aval\",   treatment = \"trtp\",   covariates = c(\"bl_cov\", \"age\", \"sex\"),   method = \"Ye\",   contrast = \"diff\" )  # View results tidy(fit, conf.int = TRUE) plot(fit, type = \"forest\")"},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"id_32-summary-method-enhancement","dir":"","previous_headings":"Phase 3: Workflow Helpers (Category 6.3)","what":"3.2 Summary Method Enhancement","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Priority: Medium Estimated effort: Low Implementation:","code":"# R/summary.R #' @export summary.beeca <- function(object, conf.level = 0.95, digits = 3, ...) {    cat(\"Covariate-Adjusted Marginal Treatment Effect\\n\")   cat(rep(\"=\", 50), \"\\n\\n\", sep = \"\")    # Model info   cat(\"Model: Logistic regression with covariate adjustment\\n\")   cat(sprintf(\"Method: %s variance estimator\\n\",               attr(object$marginal_se, \"type\")))   cat(sprintf(\"Contrast: %s\\n\",               attr(object$marginal_est, \"contrast\")[1]))   cat(sprintf(\"Sample size: %d\\n\\n\", nrow(object$data)))    # Marginal risks   cat(\"Marginal Risks:\\n\")   risks <- data.frame(     Treatment = names(object$counterfactual.means),     Risk = round(object$counterfactual.means, digits),     SE = round(sqrt(diag(object$robust_varcov)), digits)   )   print(risks, row.names = FALSE)   cat(\"\\n\")    # Treatment effect   cat(\"Treatment Effect:\\n\")   z_crit <- qnorm(1 - (1 - conf.level) / 2)   effects <- data.frame(     Comparison = attr(object$marginal_est, \"contrast\"),     Estimate = round(object$marginal_est, digits),     SE = round(object$marginal_se, digits),     CI_lower = round(object$marginal_est - z_crit * object$marginal_se, digits),     CI_upper = round(object$marginal_est + z_crit * object$marginal_se, digits),     Z = round(object$marginal_est / object$marginal_se, digits),     P_value = format.pval(2 * pnorm(-abs(object$marginal_est / object$marginal_se)))   )   print(effects, row.names = FALSE)   cat(\"\\n\")    # Model diagnostics   diagnostics <- check_model_diagnostics(object, warn = FALSE)   if (length(diagnostics) > 0) {     cat(\"Diagnostics:\\n\")     for (name in names(diagnostics)) {       cat(sprintf(\"  [!] %s\\n\", diagnostics[[name]]))     }   }    invisible(object) }"},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"id_33-print-method-enhancement","dir":"","previous_headings":"Phase 3: Workflow Helpers (Category 6.3)","what":"3.3 Print Method Enhancement","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Priority: Medium Estimated effort: Low Implementation:","code":"# R/print.R #' @export print.beeca <- function(x, digits = 3, ...) {   cat(\"beeca object: Covariate-Adjusted Marginal Treatment Effect\\n\\n\")    cat(sprintf(\"Contrast: %s\\n\", attr(x$marginal_est, \"contrast\")[1]))   cat(sprintf(\"Estimate: %s (SE = %s)\\n\",               round(x$marginal_est, digits),               round(x$marginal_se, digits)))    p_val <- 2 * pnorm(-abs(x$marginal_est / x$marginal_se))   cat(sprintf(\"P-value: %s\\n\\n\", format.pval(p_val)))    cat(\"Use summary() for detailed results\\n\")   cat(\"Use tidy() for broom-compatible output\\n\")   cat(\"Use plot() for visualizations\\n\")    invisible(x) }"},{"path":[]},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"id_41-basic-table-function","dir":"","previous_headings":"Phase 4: Table Generation (Category 4.3)","what":"4.1 Basic Table Function","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Priority: Medium Estimated effort: Medium Implementation:","code":"# R/table_marginal_effects.R #' Create publication-ready tables #' #' @export table_marginal_effects <- function(x,                                    conf.level = 0.95,                                    format = c(\"gt\", \"kable\", \"flextable\"),                                    caption = NULL,                                    footnote = TRUE,                                    ...) {    format <- match.arg(format)    # Extract data   tidy_data <- tidy(x, conf.int = TRUE, conf.level = conf.level,                     include_marginal = TRUE)    # Format based on output type   switch(format,     kable = table_kable(tidy_data, caption, footnote, ...),     gt = table_gt(tidy_data, caption, footnote, ...),     flextable = table_flextable(tidy_data, caption, footnote, ...)   ) }  # Internal formatters table_kable <- function(data, caption, footnote, ...) {   requireNamespace(\"knitr\", quietly = TRUE)    tbl <- knitr::kable(     data,     caption = caption %||% \"Marginal Treatment Effects\",     digits = 3,     ...   )    if (footnote) {     # Add footnote about method     attr(tbl, \"footnote\") <- \"Covariate-adjusted analysis using beeca package\"   }    tbl }"},{"path":[]},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"sprint-1-weeks-1-2-core-plotting","dir":"","previous_headings":"Implementation Timeline","what":"Sprint 1 (Weeks 1-2): Core Plotting","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Implement plot.beeca() S3 method Implement plot_forest() Add basic tests Add ggplot2 Suggests Create plotting vignette","code":""},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"sprint-2-weeks-3-4-enhanced-messages","dir":"","previous_headings":"Implementation Timeline","what":"Sprint 2 (Weeks 3-4): Enhanced Messages","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Implement informative error messages Add diagnostic warnings get_marginal_effect() Improve validation error messages sanitize_model() Add tests error messages","code":""},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"sprint-3-weeks-5-6-workflow-helpers","dir":"","previous_headings":"Implementation Timeline","what":"Sprint 3 (Weeks 5-6): Workflow Helpers","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Implement beeca_fit() convenience function Enhance summary.beeca() method Enhance print.beeca() method Add workflow vignette","code":""},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"sprint-4-weeks-7-8-additional-plots--tables","dir":"","previous_headings":"Implementation Timeline","what":"Sprint 4 (Weeks 7-8): Additional Plots & Tables","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Implement plot_effects() Implement plot_diagnostics() Implement table_marginal_effects() Add comprehensive plotting tests","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"required-imports","dir":"","previous_headings":"Dependencies to Add","what":"Required (Imports):","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"None (keep lightweight)","code":""},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"suggested","dir":"","previous_headings":"Dependencies to Add","what":"Suggested:","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"ggplot2 - plotting functions cli - progress bars better messages gt - table generation (optional) knitr - kable tables (already Suggests)","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"unit-tests","dir":"","previous_headings":"Testing Strategy","what":"Unit Tests:","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Plot functions return ggplot objects Error messages contain expected text Diagnostic checks catch issues Helper functions validate inputs","code":""},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"visual-tests","dir":"","previous_headings":"Testing Strategy","what":"Visual Tests:","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Use vdiffr plot regression testing Manual inspection example plots","code":""},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"integration-tests","dir":"","previous_headings":"Testing Strategy","what":"Integration Tests:","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Full workflow data visualization Multiple scenarios (2-arm, 3-arm, different contrasts)","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"vignettes","dir":"","previous_headings":"Documentation Requirements","what":"Vignettes:","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Visualization Guide - plot types examples Workflow Examples - Common analysis patterns Customization Guide - Customizing plots tables","code":""},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"man-pages","dir":"","previous_headings":"Documentation Requirements","what":"Man Pages:","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Complete @examples new functions Cross-references related functions Detailed parameter documentation","code":""},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"success-criteria","dir":"","previous_headings":"","what":"Success Criteria","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Usability: Users can create publication-ready plots single function call Clarity: Error messages guide users solutions Flexibility: Plots customizable via ggplot2 Performance: Functions run efficiently typical datasets Documentation: Comprehensive examples vignettes Tests: >90% coverage new functions","code":""},{"path":"https://openpharma.github.io/beeca/IMPLEMENTATION_PLAN.html","id":"future-enhancements-post-phase-4","dir":"","previous_headings":"","what":"Future Enhancements (Post-Phase 4)","title":"Implementation Plan: Output/Reporting & User Experience Enhancements","text":"Interactive plots plotly Shiny dashboard exploratory analysis Report templates (Quarto/RMarkdown) Integration gt/flextable advanced formatting Custom themes different journal styles","code":""},{"path":"https://openpharma.github.io/beeca/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"GNU Lesser General Public License","title":"GNU Lesser General Public License","text":"Version 3, 29 June 2007Copyright © 2007 Free Software Foundation, Inc. <http://fsf.org/> Everyone permitted copy distribute verbatim copies license document, changing allowed. version GNU Lesser General Public License incorporates terms conditions version 3 GNU General Public License, supplemented additional permissions listed .","code":""},{"path":"https://openpharma.github.io/beeca/LICENSE.html","id":"id_0-additional-definitions","dir":"","previous_headings":"","what":"0. Additional Definitions","title":"GNU Lesser General Public License","text":"used herein, “License” refers version 3 GNU Lesser General Public License, “GNU GPL” refers version 3 GNU General Public License. “Library” refers covered work governed License, Application Combined Work defined . “Application” work makes use interface provided Library, otherwise based Library. Defining subclass class defined Library deemed mode using interface provided Library. “Combined Work” work produced combining linking Application Library. particular version Library Combined Work made also called “Linked Version”. “Minimal Corresponding Source” Combined Work means Corresponding Source Combined Work, excluding source code portions Combined Work , considered isolation, based Application, Linked Version. “Corresponding Application Code” Combined Work means object code /source code Application, including data utility programs needed reproducing Combined Work Application, excluding System Libraries Combined Work.","code":""},{"path":"https://openpharma.github.io/beeca/LICENSE.html","id":"id_1-exception-to-section-3-of-the-gnu-gpl","dir":"","previous_headings":"","what":"1. Exception to Section 3 of the GNU GPL","title":"GNU Lesser General Public License","text":"may convey covered work sections 3 4 License without bound section 3 GNU GPL.","code":""},{"path":"https://openpharma.github.io/beeca/LICENSE.html","id":"id_2-conveying-modified-versions","dir":"","previous_headings":"","what":"2. Conveying Modified Versions","title":"GNU Lesser General Public License","text":"modify copy Library, , modifications, facility refers function data supplied Application uses facility (argument passed facility invoked), may convey copy modified version: ) License, provided make good faith effort ensure , event Application supply function data, facility still operates, performs whatever part purpose remains meaningful, b) GNU GPL, none additional permissions License applicable copy.","code":""},{"path":"https://openpharma.github.io/beeca/LICENSE.html","id":"id_3-object-code-incorporating-material-from-library-header-files","dir":"","previous_headings":"","what":"3. Object Code Incorporating Material from Library Header Files","title":"GNU Lesser General Public License","text":"object code form Application may incorporate material header file part Library. may convey object code terms choice, provided , incorporated material limited numerical parameters, data structure layouts accessors, small macros, inline functions templates (ten fewer lines length), following: ) Give prominent notice copy object code Library used Library use covered License. b) Accompany object code copy GNU GPL license document.","code":""},{"path":"https://openpharma.github.io/beeca/LICENSE.html","id":"id_4-combined-works","dir":"","previous_headings":"","what":"4. Combined Works","title":"GNU Lesser General Public License","text":"may convey Combined Work terms choice , taken together, effectively restrict modification portions Library contained Combined Work reverse engineering debugging modifications, also following: ) Give prominent notice copy Combined Work Library used Library use covered License. b) Accompany Combined Work copy GNU GPL license document. c) Combined Work displays copyright notices execution, include copyright notice Library among notices, well reference directing user copies GNU GPL license document. d) one following: 0) Convey Minimal Corresponding Source terms License, Corresponding Application Code form suitable , terms permit, user recombine relink Application modified version Linked Version produce modified Combined Work, manner specified section 6 GNU GPL conveying Corresponding Source. 1) Use suitable shared library mechanism linking Library. suitable mechanism one () uses run time copy Library already present user’s computer system, (b) operate properly modified version Library interface-compatible Linked Version. e) Provide Installation Information, otherwise required provide information section 6 GNU GPL, extent information necessary install execute modified version Combined Work produced recombining relinking Application modified version Linked Version. (use option 4d0, Installation Information must accompany Minimal Corresponding Source Corresponding Application Code. use option 4d1, must provide Installation Information manner specified section 6 GNU GPL conveying Corresponding Source.)","code":""},{"path":"https://openpharma.github.io/beeca/LICENSE.html","id":"id_5-combined-libraries","dir":"","previous_headings":"","what":"5. Combined Libraries","title":"GNU Lesser General Public License","text":"may place library facilities work based Library side side single library together library facilities Applications covered License, convey combined library terms choice, following: ) Accompany combined library copy work based Library, uncombined library facilities, conveyed terms License. b) Give prominent notice combined library part work based Library, explaining find accompanying uncombined form work.","code":""},{"path":"https://openpharma.github.io/beeca/LICENSE.html","id":"id_6-revised-versions-of-the-gnu-lesser-general-public-license","dir":"","previous_headings":"","what":"6. Revised Versions of the GNU Lesser General Public License","title":"GNU Lesser General Public License","text":"Free Software Foundation may publish revised /new versions GNU Lesser General Public License time time. new versions similar spirit present version, may differ detail address new problems concerns. version given distinguishing version number. Library received specifies certain numbered version GNU Lesser General Public License “later version” applies , option following terms conditions either published version later version published Free Software Foundation. Library received specify version number GNU Lesser General Public License, may choose version GNU Lesser General Public License ever published Free Software Foundation. Library received specifies proxy can decide whether future versions GNU Lesser General Public License shall apply, proxy’s public statement acceptance version permanent authorization choose version Library.","code":""},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"motivation","dir":"Articles","previous_headings":"","what":"Motivation","title":"Integration with cards ARD Framework","text":"’ve completed covariate-adjusted analysis using get_marginal_effect() obtained marginal treatment effects. Now need create Table 14.2.1 Clinical Study Report. table requires: Baseline characteristics cards::ard_continuous() cards::ard_categorical() Treatment effects beeca’s robust variance estimation Combined single ARD reporting pipeline (gtsummary, tfrmt, etc.) vignette shows beeca’s ARD format integrates seamlessly cards/cardx ecosystem comprehensive clinical trial reporting. methodology background choosing variance estimation methods, see vignette('estimand_and_implementations').","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"beeca-ard-structure","dir":"Articles","previous_headings":"ARD Frameworks Comparison","what":"beeca ARD Structure","title":"Integration with cards ARD Framework","text":"beeca package creates ARDs following pharmaceutical industry conventions clinical trial reporting: beeca ARD Schema: Key Features: - CDISC ADaM-inspired column names (PARAM, ANALTYP1) - Compact structure optimized clinical trial reporting - Single value per row (atomic numeric type) - Direct integration CDISC workflows","code":"library(beeca)  dat <- trial02_cdisc |>   dplyr::mutate(TRTP = factor(TRTP)) fit1 <- glm(AVAL ~ TRTP + SEX + RACE + AGE, family = binomial, data = dat) |>   get_marginal_effect(trt = \"TRTP\", method = \"Ye\", contrast = \"diff\", reference = \"Placebo\")  fit1$marginal_results #> # A tibble: 19 × 8 #>    TRTVAR TRTVAL                  PARAM ANALTYP1 STAT  STATVAL ANALMETH ANALDESC #>    <chr>  <chr>                   <chr> <chr>    <chr>   <dbl> <chr>    <chr>    #>  1 TRTP   Placebo                 AVAL  DESCRIP… N     86      count    Compute… #>  2 TRTP   Placebo                 AVAL  DESCRIP… n     29      count    Compute… #>  3 TRTP   Placebo                 AVAL  DESCRIP… %     33.7    percent… Compute… #>  4 TRTP   Placebo                 AVAL  INFEREN… risk   0.343  g-compu… Compute… #>  5 TRTP   Placebo                 AVAL  INFEREN… risk…  0.0519 Ye       Compute… #>  6 TRTP   Xanomeline High Dose    AVAL  DESCRIP… N     84      count    Compute… #>  7 TRTP   Xanomeline High Dose    AVAL  DESCRIP… n     61      count    Compute… #>  8 TRTP   Xanomeline High Dose    AVAL  DESCRIP… %     72.6    percent… Compute… #>  9 TRTP   Xanomeline High Dose    AVAL  INFEREN… risk   0.716  g-compu… Compute… #> 10 TRTP   Xanomeline High Dose    AVAL  INFEREN… risk…  0.0484 Ye       Compute… #> 11 TRTP   Xanomeline Low Dose     AVAL  DESCRIP… N     84      count    Compute… #> 12 TRTP   Xanomeline Low Dose     AVAL  DESCRIP… n     62      count    Compute… #> 13 TRTP   Xanomeline Low Dose     AVAL  DESCRIP… %     73.8    percent… Compute… #> 14 TRTP   Xanomeline Low Dose     AVAL  INFEREN… risk   0.743  g-compu… Compute… #> 15 TRTP   Xanomeline Low Dose     AVAL  INFEREN… risk…  0.0474 Ye       Compute… #> 16 TRTP   diff: Xanomeline High … AVAL  INFEREN… diff   0.374  g-compu… Compute… #> 17 TRTP   diff: Xanomeline High … AVAL  INFEREN… diff…  0.0708 Ye       Compute… #> 18 TRTP   diff: Xanomeline Low D… AVAL  INFEREN… diff   0.400  g-compu… Compute… #> 19 TRTP   diff: Xanomeline Low D… AVAL  INFEREN… diff…  0.0702 Ye       Compute…"},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"cardscardx-ard-structure","dir":"Articles","previous_headings":"ARD Frameworks Comparison","what":"cards/cardx ARD Structure","title":"Integration with cards ARD Framework","text":"cards package provides general ARD framework statistical computing: cards ARD Schema: Key Features: - List-column structure flexible data types - Built-error/warning capture - Human-readable labels separate internal names - Formatting functions attached statistic - Extensible context system","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"converting-beeca-ard-to-cards-format","dir":"Articles","previous_headings":"","what":"Converting beeca ARD to cards Format","title":"Integration with cards ARD Framework","text":"beeca package provides beeca_to_cards_ard() function convert marginal_results output cards ARD format. enables seamless integration cards/cardx ecosystem. conversion function: - Maps beeca columns (TRTVAR, TRTVAL, PARAM, STAT, STATVAL) cards columns (group1, group1_level, variable, stat_name, stat) - Adds human-readable stat_label statistic - Converts atomic numeric values list-columns (required cards) - Consolidates ANALTYP1 ANALMETH single context field - Preserves original beeca metadata attributes See ?beeca_to_cards_ard detailed documentation mapping table beeca cards columns.","code":""},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"example-usage","dir":"Articles","previous_headings":"","what":"Example Usage","title":"Integration with cards ARD Framework","text":"","code":"library(cards)  # Convert to cards format (fit1 created in setup chunk) cards_ard <- beeca_to_cards_ard(fit1$marginal_results)  # Print the cards ARD (uses print method for 'card' class) print(cards_ard) #> {cards} data frame: 19 x 11 #>    group1 group1_level variable variable_level stat_name stat_label   stat #> 1    TRTP      Placebo     AVAL             NA         N          N     86 #> 2    TRTP      Placebo     AVAL             NA         n          n     29 #> 3    TRTP      Placebo     AVAL             NA         %          % 33.721 #> 4    TRTP      Placebo     AVAL             NA      risk       Risk  0.343 #> 5    TRTP      Placebo     AVAL             NA   risk_se    Risk SE  0.052 #> 6    TRTP    Xanomeli…     AVAL             NA         N          N     84 #> 7    TRTP    Xanomeli…     AVAL             NA         n          n     61 #> 8    TRTP    Xanomeli…     AVAL             NA         %          % 72.619 #> 9    TRTP    Xanomeli…     AVAL             NA      risk       Risk  0.716 #> 10   TRTP    Xanomeli…     AVAL             NA   risk_se    Risk SE  0.048 #> 11   TRTP    Xanomeli…     AVAL             NA         N          N     84 #> 12   TRTP    Xanomeli…     AVAL             NA         n          n     62 #> 13   TRTP    Xanomeli…     AVAL             NA         %          %  73.81 #> 14   TRTP    Xanomeli…     AVAL             NA      risk       Risk  0.743 #> 15   TRTP    Xanomeli…     AVAL             NA   risk_se    Risk SE  0.047 #> 16   TRTP    diff: Xa…     AVAL             NA      diff  Differen…  0.374 #> 17   TRTP    diff: Xa…     AVAL             NA   diff_se  Differen…  0.071 #> 18   TRTP    diff: Xa…     AVAL             NA      diff  Differen…    0.4 #> 19   TRTP    diff: Xa…     AVAL             NA   diff_se  Differen…   0.07 #> ℹ 4 more variables: context, warning, error, fmt_fn  # Bind with other cards ARDs combined_ard <- cards::bind_ard(   cards_ard,   cards::ard_continuous(dat, by = TRTP, variables = AGE) )  print(combined_ard) #> {cards} data frame: 43 x 12 #>    group1 group1_level variable variable_level stat_name stat_label   stat #> 1    TRTP      Placebo     AVAL             NA         N          N     86 #> 2    TRTP      Placebo     AVAL             NA         n          n     29 #> 3    TRTP      Placebo     AVAL             NA         %          % 33.721 #> 4    TRTP      Placebo     AVAL             NA      risk       Risk  0.343 #> 5    TRTP      Placebo     AVAL             NA   risk_se    Risk SE  0.052 #> 6    TRTP    Xanomeli…     AVAL             NA         N          N     84 #> 7    TRTP    Xanomeli…     AVAL             NA         n          n     61 #> 8    TRTP    Xanomeli…     AVAL             NA         %          % 72.619 #> 9    TRTP    Xanomeli…     AVAL             NA      risk       Risk  0.716 #> 10   TRTP    Xanomeli…     AVAL             NA   risk_se    Risk SE  0.048 #> ℹ 33 more rows #> ℹ Use `print(n = ...)` to see more rows #> ℹ 5 more variables: context, fmt_fun, warning, error, fmt_fn"},{"path":[]},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"comprehensive-reporting","dir":"Articles","previous_headings":"Use Cases for Integration","what":"1. Comprehensive Reporting","title":"Integration with cards ARD Framework","text":"Combine beeca’s covariate-adjusted treatment effects descriptive statistics cards:","code":"# Treatment effect from beeca te_ard <- beeca_to_cards_ard(fit1$marginal_results)  # Baseline characteristics from cards baseline_ard <- cards::ard_continuous(   data = dat,   by = TRTP,   variables = AGE )  # Combine into comprehensive ARD full_ard <- cards::bind_ard(te_ard, baseline_ard)"},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"quality-control-workflows","dir":"Articles","previous_headings":"Use Cases for Integration","what":"2. Quality Control Workflows","title":"Integration with cards ARD Framework","text":"Use cards error-handling features beeca results:","code":"# Multiple analyses with error capture contrasts <- c(\"diff\", \"rr\", \"or\") analyses <- lapply(contrasts, function(contrast_type) {   cards::eval_capture_conditions({     glm(AVAL ~ TRTP + SEX + RACE + AGE, family = binomial, data = dat) |>       get_marginal_effect(trt = \"TRTP\", contrast = contrast_type, reference = \"Placebo\") |>       (\\(x) x$marginal_results)()   }) })  # Check for errors errors <- Filter(function(x) !is.null(x$error), analyses)"},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"cross-study-meta-analysis","dir":"Articles","previous_headings":"Use Cases for Integration","what":"3. Cross-Study Meta-Analysis","title":"Integration with cards ARD Framework","text":"Standardize results across multiple studies:","code":"# Create fit objects for two studies (using same data for illustration) fit_study1 <- glm(AVAL ~ TRTP + SEX + RACE + AGE, family = binomial, data = dat) |>   get_marginal_effect(trt = \"TRTP\", method = \"Ye\", contrast = \"diff\", reference = \"Placebo\")  fit_study2 <- glm(AVAL ~ TRTP + SEX + RACE + AGE, family = binomial, data = dat) |>   get_marginal_effect(trt = \"TRTP\", method = \"Ye\", contrast = \"diff\", reference = \"Placebo\") # Study 1 (beeca) study1_ard <- beeca_to_cards_ard(fit_study1$marginal_results) |>   dplyr::mutate(study = \"STUDY001\")  # Study 2 (beeca) study2_ard <- beeca_to_cards_ard(fit_study2$marginal_results) |>   dplyr::mutate(study = \"STUDY002\")  # Combine meta_ard <- cards::bind_ard(study1_ard, study2_ard) #> ℹ 19 rows with duplicated statistic values have been removed. #> • See cards::bind_ard(.distinct) (`?cards::bind_ard()`) for details.  # Extract estimates for meta-analysis estimates <- meta_ard |>   dplyr::filter(stat_name == \"diff\") |>   dplyr::mutate(estimate = unlist(stat))"},{"path":[]},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"use-beecas-native-ard-when","dir":"Articles","previous_headings":"When to Use Each Format","what":"Use beeca’s Native ARD When:","title":"Integration with cards ARD Framework","text":"Working primarily CDISC environments Generating clinical trial reports Compact storage preferred Integrating ADaM datasets Direct numeric values sufficient","code":""},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"convert-to-cards-ard-when","dir":"Articles","previous_headings":"When to Use Each Format","what":"Convert to cards ARD When:","title":"Integration with cards ARD Framework","text":"Combining cards/cardx analyses Need error/warning tracking Want formatting functions attached Working general statistical workflows Need extensible metadata system Generating complex multi-analysis reports","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"beeca-ard","dir":"Articles","previous_headings":"Design Philosophy Differences","what":"beeca ARD","title":"Integration with cards ARD Framework","text":"Goal: Clinical trial reporting efficiency Structure: Compact, CDISC-aligned Storage: Atomic numeric values Context: Domain-specific columns (ANALTYP1, ANALMETH) Focus: Marginal treatment effects","code":""},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"cards-ard","dir":"Articles","previous_headings":"Design Philosophy Differences","what":"cards ARD","title":"Integration with cards ARD Framework","text":"Goal: General statistical computing reproducibility Structure: Flexible, extensible Storage: List-columns data type Context: Single extensible context column Focus: statistical analysis","code":""},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Integration with cards ARD Framework","text":"estimand concepts method selection, see vignette('estimand_and_implementations') creating regulatory-ready tables, see vignette('clinical-trial-table')","code":""},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Integration with cards ARD Framework","text":"cards package documentation cardx package documentation CDISC ADaM Implementation Guide beeca package documentation","code":""},{"path":"https://openpharma.github.io/beeca/articles/ard-cards-integration.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"Integration with cards ARD Framework","text":"","code":"sessionInfo() #> R version 4.5.2 (2025-10-31) #> Platform: x86_64-pc-linux-gnu #> Running under: Ubuntu 24.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> time zone: UTC #> tzcode source: system (glibc) #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] cards_0.7.1 beeca_0.3.0 #>  #> loaded via a namespace (and not attached): #>  [1] jsonlite_2.0.0    dplyr_1.2.0       compiler_4.5.2    tidyselect_1.2.1  #>  [5] tidyr_1.3.2       jquerylib_0.1.4   systemfonts_1.3.1 textshaping_1.0.4 #>  [9] yaml_2.3.12       fastmap_1.2.0     lattice_0.22-7    R6_2.6.1          #> [13] generics_0.1.4    knitr_1.51        htmlwidgets_1.6.4 tibble_3.3.1      #> [17] desc_1.4.3        bslib_0.10.0      pillar_1.11.1     rlang_1.1.7       #> [21] utf8_1.2.6        cachem_1.1.0      xfun_0.56         fs_1.6.6          #> [25] sass_0.4.10       cli_3.6.5         pkgdown_2.2.0     withr_3.0.2       #> [29] magrittr_2.0.4    grid_4.5.2        digest_0.6.39     sandwich_3.1-1    #> [33] lifecycle_1.0.5   vctrs_0.7.1       evaluate_1.0.5    glue_1.8.0        #> [37] ragg_1.5.0        zoo_1.8-15        rmarkdown_2.30    purrr_1.2.1       #> [41] tools_4.5.2       pkgconfig_2.0.3   htmltools_0.5.9"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Creating Clinical Trial Tables with beeca","text":"vignette demonstrates create publication-ready clinical trial tables beeca analysis results. cover: End--end analysis workflow data table Creating formatted tables gt package Adding titles, footnotes, analysis set information Customizing table appearance regulatory submissions","code":""},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"Creating Clinical Trial Tables with beeca","text":"table examples, use gt package, produces HTML tables ideal pkgdown websites web-based reports. Word PowerPoint output, consider flextable huxtable packages, can consume beeca_summary_table() output.","code":"library(beeca) library(dplyr) library(gt)"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"example-dataset","dir":"Articles","previous_headings":"","what":"Example Dataset","title":"Creating Clinical Trial Tables with beeca","text":"use trial02_cdisc dataset included beeca, follows CDISC ADaM standards. 3-arm clinical trial Placebo two doses Xanomeline.","code":"# Prepare the analysis dataset dat <- trial02_cdisc |>   mutate(     TRTP = factor(TRTP, levels = c(\"Placebo\", \"Xanomeline Low Dose\", \"Xanomeline High Dose\"))   )  # Review the data structure dat |>   group_by(TRTP) |>   summarise(     N = n(),     Responders = sum(AVAL),     `Response Rate (%)` = round(mean(AVAL) * 100, 1),     .groups = \"drop\"   ) #> # A tibble: 3 × 4 #>   TRTP                     N Responders `Response Rate (%)` #>   <fct>                <int>      <dbl>               <dbl> #> 1 Placebo                 86         29                33.7 #> 2 Xanomeline Low Dose     84         62                73.8 #> 3 Xanomeline High Dose    84         61                72.6"},{"path":[]},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"step-1-fit-the-working-model","dir":"Articles","previous_headings":"End-to-End Analysis","what":"Step 1: Fit the Working Model","title":"Creating Clinical Trial Tables with beeca","text":"fit logistic regression model adjusting baseline covariates (sex, race, age):","code":"# Fit logistic regression with covariate adjustment fit <- glm(   AVAL ~ TRTP + SEX + RACE + AGE,   family = binomial,   data = dat )  # Model summary summary(fit)$coefficients[1:4, ] #>                            Estimate  Std. Error    z value     Pr(>|z|) #> (Intercept)              14.5929624 882.7441448 0.01653136 9.868105e-01 #> TRTPXanomeline Low Dose   1.7515730   0.3422890 5.11723420 3.100485e-07 #> TRTPXanomeline High Dose  1.6156307   0.3394837 4.75908216 1.944753e-06 #> SEXM                      0.2511626   0.2860867 0.87792487 3.799845e-01"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"step-2-estimate-marginal-treatment-effect","dir":"Articles","previous_headings":"End-to-End Analysis","what":"Step 2: Estimate Marginal Treatment Effect","title":"Creating Clinical Trial Tables with beeca","text":"Using Ye et al. (2023) method robust variance estimation:","code":"# Calculate marginal treatment effect with risk difference contrast marginal_fit <- get_marginal_effect(   fit,   trt = \"TRTP\",   method = \"Ye\",   contrast = \"diff\",   reference = \"Placebo\" )  # View the Analysis Results Data (ARD) marginal_fit$marginal_results #> # A tibble: 19 × 8 #>    TRTVAR TRTVAL                  PARAM ANALTYP1 STAT  STATVAL ANALMETH ANALDESC #>    <chr>  <chr>                   <chr> <chr>    <chr>   <dbl> <chr>    <chr>    #>  1 TRTP   Placebo                 AVAL  DESCRIP… N     86      count    Compute… #>  2 TRTP   Placebo                 AVAL  DESCRIP… n     29      count    Compute… #>  3 TRTP   Placebo                 AVAL  DESCRIP… %     33.7    percent… Compute… #>  4 TRTP   Placebo                 AVAL  INFEREN… risk   0.343  g-compu… Compute… #>  5 TRTP   Placebo                 AVAL  INFEREN… risk…  0.0519 Ye       Compute… #>  6 TRTP   Xanomeline Low Dose     AVAL  DESCRIP… N     84      count    Compute… #>  7 TRTP   Xanomeline Low Dose     AVAL  DESCRIP… n     62      count    Compute… #>  8 TRTP   Xanomeline Low Dose     AVAL  DESCRIP… %     73.8    percent… Compute… #>  9 TRTP   Xanomeline Low Dose     AVAL  INFEREN… risk   0.743  g-compu… Compute… #> 10 TRTP   Xanomeline Low Dose     AVAL  INFEREN… risk…  0.0474 Ye       Compute… #> 11 TRTP   Xanomeline High Dose    AVAL  DESCRIP… N     84      count    Compute… #> 12 TRTP   Xanomeline High Dose    AVAL  DESCRIP… n     61      count    Compute… #> 13 TRTP   Xanomeline High Dose    AVAL  DESCRIP… %     72.6    percent… Compute… #> 14 TRTP   Xanomeline High Dose    AVAL  INFEREN… risk   0.716  g-compu… Compute… #> 15 TRTP   Xanomeline High Dose    AVAL  INFEREN… risk…  0.0484 Ye       Compute… #> 16 TRTP   diff: Xanomeline Low D… AVAL  INFEREN… diff   0.400  g-compu… Compute… #> 17 TRTP   diff: Xanomeline Low D… AVAL  INFEREN… diff…  0.0702 Ye       Compute… #> 18 TRTP   diff: Xanomeline High … AVAL  INFEREN… diff   0.374  g-compu… Compute… #> 19 TRTP   diff: Xanomeline High … AVAL  INFEREN… diff…  0.0708 Ye       Compute…"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"step-3-review-results","dir":"Articles","previous_headings":"End-to-End Analysis","what":"Step 3: Review Results","title":"Creating Clinical Trial Tables with beeca","text":"beeca package provides several ways view results: Using broom-style tidy() method:","code":"# Concise print output print(marginal_fit) #> beeca: Covariate-Adjusted Marginal Treatment Effect #> ======================================================= #>  #> 2 treatment comparisons: #>  #>   diff: Xanomeline Low Dose-Placebo: #>     Estimate = 0.4000 (SE = 0.0702), p = 1.185e-08 #>   diff: Xanomeline High Dose-Placebo: #>     Estimate = 0.3737 (SE = 0.0708), p = 1.332e-07 #>  #> Use summary() for detailed results #> Use tidy() for broom-compatible output #> Use plot() for visualizations  # Detailed summary with confidence intervals summary(marginal_fit, conf.level = 0.95) #>  #> Covariate-Adjusted Marginal Treatment Effect Analysis #> ============================================================ #>  #> Model Information: #> ------------------------------------------------------------ #>   Working model:      Logistic regression with covariate adjustment #>   Variance estimator: Ye #>   Contrast type:      diff #>   Sample size:        254 #>   Outcome variable:   AVAL #>  #> Marginal Risks (g-computation): #> ------------------------------------------------------------ #>  Treatment            Risk   SE     95% CI           #>  Placebo              0.3428 0.0519 (0.2411, 0.4445) #>  Xanomeline Low Dose  0.7428 0.0474 (0.6499, 0.8357) #>  Xanomeline High Dose 0.7165 0.0484 (0.6216, 0.8114) #>  #> Treatment Effect Estimates: #> ------------------------------------------------------------ #>  Comparison                         Estimate SE     Z value 95% CI           #>  diff: Xanomeline Low Dose-Placebo  0.4000   0.0702 5.6980  (0.2624, 0.5376) #>  diff: Xanomeline High Dose-Placebo 0.3737   0.0708 5.2782  (0.2349, 0.5125) #>  P value #>  1.2e-08 #>  1.3e-07 #>  #> ------------------------------------------------------------ #> Note: Standard errors and tests based on robust variance estimation #> Use tidy() for data frame output or plot() for visualizations # Tidy data frame output tidy(marginal_fit, conf.int = TRUE, include_marginal = TRUE) #> # A tibble: 5 × 7 #>   term                  estimate std.error statistic  p.value conf.low conf.high #>   <chr>                    <dbl>     <dbl>     <dbl>    <dbl>    <dbl>     <dbl> #> 1 risk_Placebo             0.343    0.0519      6.61 3.96e-11    0.241     0.445 #> 2 risk_Xanomeline Low …    0.743    0.0474     15.7  2.96e-55    0.650     0.836 #> 3 risk_Xanomeline High…    0.716    0.0484     14.8  1.34e-49    0.622     0.811 #> 4 diff: Xanomeline Hig…    0.374    0.0708      5.27 1.33e- 7    0.235     0.513 #> 5 diff: Xanomeline Low…    0.400    0.0702      5.70 1.19e- 8    0.263     0.538"},{"path":[]},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"basic-table","dir":"Articles","previous_headings":"Creating Clinical Trial Tables with gt","what":"Basic Table","title":"Creating Clinical Trial Tables with beeca","text":"as_gt() function converts beeca results directly formatted gt table:","code":"as_gt(marginal_fit)"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"publication-ready-table-with-metadata","dir":"Articles","previous_headings":"Creating Clinical Trial Tables with gt","what":"Publication-Ready Table with Metadata","title":"Creating Clinical Trial Tables with beeca","text":"Add title, footnotes, analysis set information regulatory submissions:","code":"as_gt(   marginal_fit,   title = \"Table 14.2.1: Primary Efficacy Analysis\",   subtitle = \"Response Rate by Treatment Group - Risk Difference\",   source_note = \"Covariate-adjusted analysis using logistic regression with g-computation.\",   analysis_set = \"Full Analysis Set (FAS)\" )"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"customizing-table-options","dir":"Articles","previous_headings":"Creating Clinical Trial Tables with gt","what":"Customizing Table Options","title":"Creating Clinical Trial Tables with beeca","text":"Control confidence level, decimal places, display options:","code":"as_gt(   marginal_fit,   title = \"Table 14.2.1.1: Sensitivity Analysis\",   subtitle = \"Response Rate with 90% Confidence Intervals\",   conf.level = 0.90,   risk_digits = 2,   effect_digits = 3,   analysis_set = \"Per Protocol Set (PPS)\",   analysis_set_n = 240,   source_note = \"Per protocol analysis excludes major protocol deviations.\" )"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"displaying-results-as-proportions","dir":"Articles","previous_headings":"Creating Clinical Trial Tables with gt","what":"Displaying Results as Proportions","title":"Creating Clinical Trial Tables with beeca","text":"default, risks displayed percentages. Use risk_percent = FALSE proportions:","code":"as_gt(   marginal_fit,   title = \"Table 14.2.2: Response Proportions\",   risk_percent = FALSE,   effect_digits = 4,   analysis_set = \"Full Analysis Set (FAS)\" )"},{"path":[]},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"risk-ratio","dir":"Articles","previous_headings":"Alternative Contrasts","what":"Risk Ratio","title":"Creating Clinical Trial Tables with beeca","text":"","code":"# Fit with risk ratio contrast fit_rr <- get_marginal_effect(   fit,   trt = \"TRTP\",   method = \"Ye\",   contrast = \"rr\",   reference = \"Placebo\" )  # Summary summary(fit_rr) #>  #> Covariate-Adjusted Marginal Treatment Effect Analysis #> ============================================================ #>  #> Model Information: #> ------------------------------------------------------------ #>   Working model:      Logistic regression with covariate adjustment #>   Variance estimator: Ye #>   Contrast type:      rr #>   Sample size:        254 #>   Outcome variable:   AVAL #>  #> Marginal Risks (g-computation): #> ------------------------------------------------------------ #>  Treatment            Risk   SE     95% CI           #>  Placebo              0.3428 0.0519 (0.2411, 0.4445) #>  Xanomeline Low Dose  0.7428 0.0474 (0.6499, 0.8357) #>  Xanomeline High Dose 0.7165 0.0484 (0.6216, 0.8114) #>  #> Treatment Effect Estimates: #> ------------------------------------------------------------ #>  Comparison                       Estimate SE     Z value 95% CI           #>  rr: Xanomeline Low Dose/Placebo  2.1669   0.3555 6.0954  (1.4701, 2.8637) #>  rr: Xanomeline High Dose/Placebo 2.0901   0.3461 6.0390  (1.4118, 2.7684) #>  P value #>  1.1e-09 #>  1.6e-09 #>  #> ------------------------------------------------------------ #> Note: Standard errors and tests based on robust variance estimation #> Use tidy() for data frame output or plot() for visualizations as_gt(   fit_rr,   title = \"Table 14.2.3: Risk Ratio Analysis\",   analysis_set = \"Full Analysis Set (FAS)\",   source_note = \"Risk ratios >1 indicate higher response in active treatment.\" )"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"odds-ratio","dir":"Articles","previous_headings":"Alternative Contrasts","what":"Odds Ratio","title":"Creating Clinical Trial Tables with beeca","text":"","code":"# Fit with odds ratio contrast fit_or <- get_marginal_effect(   fit,   trt = \"TRTP\",   method = \"Ye\",   contrast = \"or\",   reference = \"Placebo\" )  summary(fit_or) #>  #> Covariate-Adjusted Marginal Treatment Effect Analysis #> ============================================================ #>  #> Model Information: #> ------------------------------------------------------------ #>   Working model:      Logistic regression with covariate adjustment #>   Variance estimator: Ye #>   Contrast type:      or #>   Sample size:        254 #>   Outcome variable:   AVAL #>  #> Marginal Risks (g-computation): #> ------------------------------------------------------------ #>  Treatment            Risk   SE     95% CI           #>  Placebo              0.3428 0.0519 (0.2411, 0.4445) #>  Xanomeline Low Dose  0.7428 0.0474 (0.6499, 0.8357) #>  Xanomeline High Dose 0.7165 0.0484 (0.6216, 0.8114) #>  #> Treatment Effect Estimates: #> ------------------------------------------------------------ #>  Comparison                                     Estimate SE     Z value #>  or: odds(Xanomeline Low Dose) / odds(Placebo)  5.5374   1.8715 2.9588  #>  or: odds(Xanomeline High Dose) / odds(Placebo) 4.8448   1.6030 3.0223  #>  95% CI           P value #>  (1.8693, 9.2055) 0.0031  #>  (1.7030, 7.9866) 0.0025  #>  #> ------------------------------------------------------------ #> Note: Standard errors and tests based on robust variance estimation #> Use tidy() for data frame output or plot() for visualizations as_gt(   fit_or,   title = \"Table 14.2.4: Odds Ratio Analysis\",   analysis_set = \"Full Analysis Set (FAS)\",   source_note = \"Marginal odds ratios from g-computation.\" )"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"working-with-the-summary-table-helper","dir":"Articles","previous_headings":"","what":"Working with the Summary Table Helper","title":"Creating Clinical Trial Tables with beeca","text":"flexibility, use beeca_summary_table() get structured data frames: allows custom table creation table package:","code":"# Get structured summary data summary_data <- beeca_summary_table(marginal_fit, conf.level = 0.95)  # Per-arm statistics summary_data$arm_statistics #> # A tibble: 3 × 8 #>   treatment          N n_responders observed_rate marginal_risk marginal_risk_se #>   <chr>          <dbl>        <dbl>         <dbl>         <dbl>            <dbl> #> 1 Placebo           86           29          33.7          34.3             5.19 #> 2 Xanomeline Lo…    84           62          73.8          74.3             4.74 #> 3 Xanomeline Hi…    84           61          72.6          71.6             4.84 #> # ℹ 2 more variables: marginal_risk_ci_low <dbl>, marginal_risk_ci_high <dbl>  # Treatment effect estimates summary_data$treatment_effects #> # A tibble: 2 × 7 #>   comparison               estimate std_error ci_low ci_high z_statistic p_value #>   <chr>                       <dbl>     <dbl>  <dbl>   <dbl>       <dbl>   <dbl> #> 1 diff: Xanomeline Low Do…     40.0      7.02   26.3    53.8        5.70 1.19e-8 #> 2 diff: Xanomeline High D…     37.4      7.08   23.5    51.3        5.27 1.33e-7  # Analysis metadata summary_data$metadata #> $conf_level #> [1] 0.95 #>  #> $contrast_type #> [1] \"diff\" #>  #> $variance_method #> [1] \"Ye\" #>  #> $reference #> [1] \"Placebo\" #>  #> $n_total #> [1] 254 #>  #> $risk_percent #> [1] TRUE # Custom table from summary data summary_data$treatment_effects |>   mutate(     CI = sprintf(\"(%.2f, %.2f)\", ci_low, ci_high),     `P-value` = format_pvalue(p_value)   ) |>   select(Comparison = comparison, Estimate = estimate, `Std. Error` = std_error, CI, `P-value`) |>   gt() |>   tab_header(     title = \"Treatment Effect Summary\",     subtitle = \"Risk Difference (%) vs Placebo\"   ) |>   fmt_number(columns = c(Estimate, `Std. Error`), decimals = 2)"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"using-beeca_fit-for-streamlined-workflow","dir":"Articles","previous_headings":"","what":"Using beeca_fit() for Streamlined Workflow","title":"Creating Clinical Trial Tables with beeca","text":"beeca_fit() function provides simplified interface:","code":"# One-step analysis result <- beeca_fit(   data = dat,   outcome = \"AVAL\",   treatment = \"TRTP\",   covariates = c(\"SEX\", \"RACE\", \"AGE\"),   method = \"Ye\",   contrast = \"diff\",   reference = \"Placebo\" ) #> Fitting logistic regression with 3 covariate(s) #> Computing marginal effects (method: Ye, contrast: diff) #> Analysis complete!  # Same output methods work summary(result) #>  #> Covariate-Adjusted Marginal Treatment Effect Analysis #> ============================================================ #>  #> Model Information: #> ------------------------------------------------------------ #>   Working model:      Logistic regression with covariate adjustment #>   Variance estimator: Ye #>   Contrast type:      diff #>   Sample size:        254 #>   Outcome variable:   AVAL #>  #> Marginal Risks (g-computation): #> ------------------------------------------------------------ #>  Treatment            Risk   SE     95% CI           #>  Placebo              0.3428 0.0519 (0.2411, 0.4445) #>  Xanomeline Low Dose  0.7428 0.0474 (0.6499, 0.8357) #>  Xanomeline High Dose 0.7165 0.0484 (0.6216, 0.8114) #>  #> Treatment Effect Estimates: #> ------------------------------------------------------------ #>  Comparison                         Estimate SE     Z value 95% CI           #>  diff: Xanomeline Low Dose-Placebo  0.4000   0.0702 5.6980  (0.2624, 0.5376) #>  diff: Xanomeline High Dose-Placebo 0.3737   0.0708 5.2782  (0.2349, 0.5125) #>  P value #>  1.2e-08 #>  1.3e-07 #>  #> ------------------------------------------------------------ #> Note: Standard errors and tests based on robust variance estimation #> Use tidy() for data frame output or plot() for visualizations as_gt(   result,   title = \"Table 14.2.5: Primary Analysis (beeca_fit)\",   analysis_set = \"Full Analysis Set (FAS)\",   source_note = \"Analysis performed using beeca_fit() convenience function.\" )"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"comparing-variance-methods","dir":"Articles","previous_headings":"","what":"Comparing Variance Methods","title":"Creating Clinical Trial Tables with beeca","text":"Compare results Ye et al. Ge et al. methods:","code":"# Ye method (recommended for marginal/unconditional estimand) fit_ye <- get_marginal_effect(fit, trt = \"TRTP\", method = \"Ye\",                                contrast = \"diff\", reference = \"Placebo\")  # Ge method (for conditional estimand) fit_ge <- get_marginal_effect(fit, trt = \"TRTP\", method = \"Ge\", type = \"HC0\",                                contrast = \"diff\", reference = \"Placebo\") #> Warning in meatHC(x, type = type, omega = omega): HC0 covariances become (close #> to) singular if hat values are (close to) 1 as for observation(s) 24  # Compare standard errors comparison <- data.frame(   Method = c(\"Ye et al. (2023)\", \"Ge et al. (2011)\"),   SE_LowDose = c(fit_ye$marginal_se[1], fit_ge$marginal_se[1]),   SE_HighDose = c(fit_ye$marginal_se[2], fit_ge$marginal_se[2]) ) comparison #>             Method SE_LowDose SE_HighDose #> 1 Ye et al. (2023) 0.07015665  0.07084826 #> 2 Ge et al. (2011) 0.06935188  0.07168090"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"forest-plot-visualization","dir":"Articles","previous_headings":"","what":"Forest Plot Visualization","title":"Creating Clinical Trial Tables with beeca","text":"Complement tables forest plots:","code":"# Forest plot of treatment effects plot(marginal_fit,      main = \"Treatment Effect: Risk Difference vs Placebo\",      xlab = \"Risk Difference (%)\")"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"complete-reporting-example","dir":"Articles","previous_headings":"","what":"Complete Reporting Example","title":"Creating Clinical Trial Tables with beeca","text":"’s complete workflow regulatory submission:","code":"# 1. Define analysis population analysis_data <- trial02_cdisc |>   filter(FASFL == \"Y\") |>  # Full Analysis Set flag   mutate(TRTP = factor(TRTP, levels = c(\"Placebo\", \"Xanomeline Low Dose\", \"Xanomeline High Dose\")))  n_fas <- nrow(analysis_data)  # 2. Fit model and estimate treatment effect primary_analysis <- glm(   AVAL ~ TRTP + SEX + RACE + AGE,   family = binomial,   data = analysis_data ) |>   get_marginal_effect(     trt = \"TRTP\",     method = \"Ye\",     contrast = \"diff\",     reference = \"Placebo\"   )  # 3. Create primary efficacy table as_gt(   primary_analysis,   title = \"Table 14.2.1: Primary Efficacy Analysis\",   subtitle = \"Response Rate by Treatment Group\",   analysis_set = \"Full Analysis Set (FAS)\",   analysis_set_n = n_fas,   conf.level = 0.95,   risk_digits = 1,   effect_digits = 2,   source_note = paste(     \"Response defined as AVAL = 1.\",     \"Risk difference estimated using g-computation with robust variance estimation (Ye et al. 2023).\",     \"Model adjusted for sex, race, and age at baseline.\",     sep = \" \"   ) )"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Creating Clinical Trial Tables with beeca","text":"vignette demonstrated beeca’s complete clinical trial table workflow: get_marginal_effect() covariate-adjusted treatment effect estimation as_gt() publication-ready regulatory tables metadata beeca_summary_table() structured data suitable custom table creation beeca_fit() streamlined one-step analysis tidy() summary() flexible result inspection plot() forest plot visualization examples used trial02_cdisc dataset Ye et al. (2023) method robust variance estimation targeting population average treatment effect (PATE). Next steps: estimand concepts variance method selection, see vignette('estimand_and_implementations') integrating beeca results cards ARD framework, see vignette('ard-cards-integration')","code":""},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"session-information","dir":"Articles","previous_headings":"","what":"Session Information","title":"Creating Clinical Trial Tables with beeca","text":"","code":"sessionInfo() #> R version 4.5.2 (2025-10-31) #> Platform: x86_64-pc-linux-gnu #> Running under: Ubuntu 24.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> time zone: UTC #> tzcode source: system (glibc) #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] gt_1.3.0    dplyr_1.2.0 beeca_0.3.0 #>  #> loaded via a namespace (and not attached): #>  [1] gtable_0.3.6       jsonlite_2.0.0     compiler_4.5.2     tidyselect_1.2.1   #>  [5] xml2_1.5.2         jquerylib_0.1.4    scales_1.4.0       systemfonts_1.3.1  #>  [9] textshaping_1.0.4  yaml_2.3.12        fastmap_1.2.0      lattice_0.22-7     #> [13] ggplot2_4.0.2      R6_2.6.1           labeling_0.4.3     generics_0.1.4     #> [17] knitr_1.51         htmlwidgets_1.6.4  tibble_3.3.1       desc_1.4.3         #> [21] RColorBrewer_1.1-3 bslib_0.10.0       pillar_1.11.1      rlang_1.1.7        #> [25] utf8_1.2.6         cachem_1.1.0       xfun_0.56          S7_0.2.1           #> [29] fs_1.6.6           sass_0.4.10        cli_3.6.5          pkgdown_2.2.0      #> [33] withr_3.0.2        magrittr_2.0.4     grid_4.5.2         digest_0.6.39      #> [37] sandwich_3.1-1     lifecycle_1.0.5    vctrs_0.7.1        evaluate_1.0.5     #> [41] glue_1.8.0         farver_2.1.2       ragg_1.5.0         zoo_1.8-15         #> [45] rmarkdown_2.30     tools_4.5.2        pkgconfig_2.0.3    htmltools_0.5.9"},{"path":"https://openpharma.github.io/beeca/articles/clinical-trial-table.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Creating Clinical Trial Tables with beeca","text":"Ge, M., Durham, L.K., Meyer, R.D., Xie, W., & Thomas, N. (2011). Covariate-Adjusted Difference Proportions Clinical Trials Using Logistic Regression Weighted Risk Differences. Drug Information Journal, 45, 481-493. https://doi.org/10.1177/009286151104500409 Ye, T., Bannick, M., Yi, Y., & Shao, J. (2023). Robust Variance Estimation Covariate-Adjusted Unconditional Treatment Effect Randomized Clinical Trials Binary Outcomes. Statistical Theory Related Fields, 7(2), 159-163. https://doi.org/10.1080/24754269.2023.2205802 Magirr, D., Wang, C., Przybylski, ., & Baillie, M. (2025). Estimating Variance Covariate-Adjusted Estimators Average Treatment Effects Clinical Trials Binary Endpoints. Pharmaceutical Statistics, 24(4), e70021. https://doi.org/10.1002/pst.70021 FDA (2023). Adjusting Covariates Randomized Clinical Trials Drugs Biological Products. Guidance Industry. https://www.fda.gov/regulatory-information/search-fda-guidance-documents/adjusting-covariates-randomized-clinical-trials-drugs--biological-products","code":""},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Introduction to estimating a marginal estimand with beeca","text":"FDA recommends covariate-adjusted analyses randomized clinical trials, variance estimator use? beeca package makes simple: understand works use method, need clarify type treatment effect ’re estimating. ICH E9(R1) addendum proposed framework formulation scientific questions treatment effects clinical trials. framework emphasized importance formulating precisely scientific questions interest clinical trials form estimand. estimand describes treatment effect interest via five attributes, include treatment, population, variable (endpoint), intercurrent event population-level summary. Recent FDA guidance (2023) Adjusting Covariates Randomized Clinical Trials Drugs Biological Products Industry discussed various considerations prospectively specifying covariate-adjusted analysis, including distinction unconditional vs. conditional average treatment effects. vignette provides brief explanation different concepts average treatment effect covered package. Practical guidance selecting appropriate variance estimation method. analysis example using package estimate average treatment effect clinical trial covariate adjustment. comparison implementations methods.","code":"library(beeca) fit <- glm(AVAL ~ TRTP + SEX + RACE + AGE, family = \"binomial\", data = trial02_cdisc) get_marginal_effect(fit, trt = \"TRTP\", method = \"Ye\", contrast = \"diff\", reference = \"Placebo\")"},{"path":[]},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"what-is-an-average-treatment-effect","dir":"Articles","previous_headings":"General concepts","what":"What is an average treatment effect?","title":"Introduction to estimating a marginal estimand with beeca","text":"general, average treatment effect effect moving population untreated (control treatment) treated (experimental treatment). average treatment effect can estimated either without covariate adjustment. Different flavours average treatment effect exist, depending specific population moved untreated treated. overall superpopulation (denoted SS), given sample patients trial (assumed randomly sampled superpopulation), define following potential estimands. Population Average Treatment Effect PATES\\mathrm{PATE}^S. average outcome everyone superpopulation treated experimental treatment vs. average outcome treated control treatment. Conditional Average Treatment Effect, CATES(x)\\mathrm{CATE}^S(x). average outcome everyone superpopulation covariate value xx treated experimental treatment vs. average outcome treated control treatment. Conditional Population Average Treatment Effect CPATES\\mathrm{CPATE}^S. average CATES(xi)\\mathrm{CATE}^S(x_i) patients =1,…,Ni=1,\\ldots,N trial sample. Can also thought expected difference outcome means (experimental vs. control), conditional baseline covariates x1,…,xNx_1,\\ldots,x_N. Sample Average Treatment Effect SATE\\mathrm{SATE}. average outcome everyone trial treated experimental treatment vs. average outcome treated control treatment. FDA guidance, recent discussions covariate adjustment, average treatment effects often classified either unconditional conditional. (Sometimes marginal used interchangeably unconditional). context, usually meant “conditional” CATES(x)\\mathrm{CATE}^S(x). , subgroup specific average treatment effect. Often, assumption made subgroup specific average treatment effects identical across subgroups. assumption wrong, interpretation can challenging. usually meant “unconditional” (“marginal”) average subgroup-specific average treatment effects. second averaging step gives corresponding estimation procedures level robustness model misspecification. Hence following distinction FDA guidance: Sponsors can perform covariate-adjusted estimation inference unconditional treatment effect primary analysis data randomized trial. Sponsors discuss relevant review divisions specific proposals protocol statistical analysis plan containing nonlinear regression estimate conditional treatment effects primary analysis. coarse classification average treatment effects either “unconditional / marginal” “conditional”, PATES\\mathrm{PATE}^S, CPATES\\mathrm{CPATE}^S SATE\\mathrm{SATE} can viewed “unconditional / marginal”, CATES(x)\\mathrm{CATE}^S(x) can viewed “conditional”.","code":""},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"how-to-estimate-unconditional-marginal-average-treatment-effect","dir":"Articles","previous_headings":"General concepts","what":"How to estimate “unconditional / marginal” average treatment effect?","title":"Introduction to estimating a marginal estimand with beeca","text":"binary endpoint, average treatment effect, whether PATES\\mathrm{PATE}^S, CPATES\\mathrm{CPATE}^S SATE\\mathrm{SATE}, can estimated adjusted logistic regression using g-computation method. , estimating average counterfactual outcomes arm based predictions working model. Based average counterfactual outcomes, different summary measure risk difference, relative risk odds ratio can evaluated. Regardless whether estimand PATES\\mathrm{PATE}^S, CPATES\\mathrm{CPATE}^S SATE\\mathrm{SATE}, point estimator can used.","code":""},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"how-to-estimate-the-variance-of-the-g-computation-estimator-of-average-treatment-effect","dir":"Articles","previous_headings":"General concepts","what":"How to estimate the variance of the g-computation estimator of average treatment effect?","title":"Introduction to estimating a marginal estimand with beeca","text":"avoid ambiguity regarding variance g-computation estimator calculated, necessary precise whether one estimating PATES\\mathrm{PATE}^S, CPATES\\mathrm{CPATE}^S SATE\\mathrm{SATE}. {beeca} implements variance estimation PATES\\mathrm{PATE}^S based methods Ye et al. (2023), CPATES\\mathrm{CPATE}^S based Ge et al. (2011). See Magirr et al. (2025) discussion estimands PATES\\mathrm{PATE}^S CPATES\\mathrm{CPATE}^S, corresponding methodology variance estimation.","code":""},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"which-method-should-i-use","dir":"Articles","previous_headings":"","what":"Which method should I use?","title":"Introduction to estimating a marginal estimand with beeca","text":"regulatory submissions, use method = \"Ye\". method targets population average treatment effect (PATE), unconditional estimand recommended FDA guidance (2023) primary analyses. Ye et al. (2023) method provides robust variance estimation PATE accounting model parameter uncertainty variability counterfactual predictions across population. unconditional approach appropriate want estimate treatment effect broader population trial sample drawn. Ge et al. (2011) method targets conditional population average treatment effect (CPATE), conditions specific baseline covariate values observed trial. appropriate primary estimand explicitly conditional trial sample’s baseline characteristics. Key points: Point estimates identical methods; standard errors differ. protocol specifies unconditional estimand (common), use method = \"Ye\". protocol specifies conditional estimand, use method = \"Ge\". doubt, use method = \"Ye\" — aligns FDA guidance unconditional estimands covariate-adjusted analyses. practical reporting examples, see vignette('clinical-trial-table').","code":""},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"analysis-example","dir":"Articles","previous_headings":"","what":"Analysis example","title":"Introduction to estimating a marginal estimand with beeca","text":"following example, use example CDISC clinical trial dataset ADaM format (?trial02_cdisc) three treatment arms. show describe perform adjusted analysis targeting marginal risk difference comparing two active arms placebo. logistic regression model used estimate average treatment effect Xanomeline High Dose vs Placebo Xanomeline Low Dose vs Placebo. model adjust baseline values patient sex, race age. Difference marginal response proportions p-value corresponding 95% confidence interval estimated logistic regression model using methodology described Ge et al. 2011 sandwich variance estimator (Liu et al. 2023). sandwich estimator provides robustness model-misspecification. results summarised ARD format (Analysis Results Dataset) ease subsequent reporting. results can passed prespecified testing strategy required. provide simple example normal approximation applied:","code":"library(beeca) library(dplyr) ## Prepare the dataset for input dat <- trial02_cdisc %>%   ## Treatment variable must be coded as a factor   dplyr::mutate(TRTP = factor(TRTP))  ## Fit the logistic regression model adjusting for SEX, RACE and AGE fit <- glm(AVAL ~ TRTP + SEX + RACE + AGE, family = \"binomial\", data = dat)  ## Calculate the marginal treatment effect estimate and associated variance for a difference contrast ## using the Ge et al. method with robust HC0 sandwich variance marginal_fit <- get_marginal_effect(fit,   trt = \"TRTP\",   method = \"Ge\",   type = \"HC0\",   contrast = \"diff\",   reference = \"Placebo\" ) ## Warning in meatHC(x, type = type, omega = omega): HC0 covariances become (close ## to) singular if hat values are (close to) 1 as for observation(s) 24 ## View the ARD summary marginal_fit$marginal_results ## # A tibble: 19 × 8 ##    TRTVAR TRTVAL                  PARAM ANALTYP1 STAT  STATVAL ANALMETH ANALDESC ##    <chr>  <chr>                   <chr> <chr>    <chr>   <dbl> <chr>    <chr>    ##  1 TRTP   Placebo                 AVAL  DESCRIP… N     86      count    Compute… ##  2 TRTP   Placebo                 AVAL  DESCRIP… n     29      count    Compute… ##  3 TRTP   Placebo                 AVAL  DESCRIP… %     33.7    percent… Compute… ##  4 TRTP   Placebo                 AVAL  INFEREN… risk   0.343  g-compu… Compute… ##  5 TRTP   Placebo                 AVAL  INFEREN… risk…  0.0518 Ge - HC0 Compute… ##  6 TRTP   Xanomeline High Dose    AVAL  DESCRIP… N     84      count    Compute… ##  7 TRTP   Xanomeline High Dose    AVAL  DESCRIP… n     61      count    Compute… ##  8 TRTP   Xanomeline High Dose    AVAL  DESCRIP… %     72.6    percent… Compute… ##  9 TRTP   Xanomeline High Dose    AVAL  INFEREN… risk   0.716  g-compu… Compute… ## 10 TRTP   Xanomeline High Dose    AVAL  INFEREN… risk…  0.0494 Ge - HC0 Compute… ## 11 TRTP   Xanomeline Low Dose     AVAL  DESCRIP… N     84      count    Compute… ## 12 TRTP   Xanomeline Low Dose     AVAL  DESCRIP… n     62      count    Compute… ## 13 TRTP   Xanomeline Low Dose     AVAL  DESCRIP… %     73.8    percent… Compute… ## 14 TRTP   Xanomeline Low Dose     AVAL  INFEREN… risk   0.743  g-compu… Compute… ## 15 TRTP   Xanomeline Low Dose     AVAL  INFEREN… risk…  0.0460 Ge - HC0 Compute… ## 16 TRTP   diff: Xanomeline High … AVAL  INFEREN… diff   0.374  g-compu… Compute… ## 17 TRTP   diff: Xanomeline High … AVAL  INFEREN… diff…  0.0717 Ge - HC0 Compute… ## 18 TRTP   diff: Xanomeline Low D… AVAL  INFEREN… diff   0.400  g-compu… Compute… ## 19 TRTP   diff: Xanomeline Low D… AVAL  INFEREN… diff…  0.0694 Ge - HC0 Compute… ## Extract results marginal_results <- marginal_fit$marginal_results diff_est <- marginal_results[marginal_results$STAT == \"diff\", \"STATVAL\"][[1]] diff_se <- marginal_results[marginal_results$STAT == \"diff_se\", \"STATVAL\"][[1]]  ## 95% confidence interval ci_l <- diff_est - (qnorm(0.975) * diff_se) ci_u <- diff_est + (qnorm(0.975) * diff_se)  ## Two-sided p-value z_score <- diff_est / diff_se p_value <- 2 * (1 - pnorm(abs(z_score)))  tibble(   Contrast = marginal_results[marginal_results$STAT == \"diff\", ]$TRTVAL,   `Risk difference` = round(diff_est, 2),   `95% CI` = sprintf(\"(%s - %s)\", round(ci_l, 2), round(ci_u, 2)),   `p-value` = formatC(p_value, format = \"e\", digits = 2) ) ## # A tibble: 2 × 4 ##   Contrast                           `Risk difference` `95% CI`      `p-value` ##   <chr>                                          <dbl> <chr>         <chr>     ## 1 diff: Xanomeline High Dose-Placebo              0.37 (0.23 - 0.51) 1.86e-07  ## 2 diff: Xanomeline Low Dose-Placebo               0.4  (0.26 - 0.54) 8.02e-09"},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"comparing-different-implementations","dir":"Articles","previous_headings":"","what":"Comparing different implementations","title":"Introduction to estimating a marginal estimand with beeca","text":"illustrate usage {beeca} purposes results validation, compare {beeca} available implementations Ge et al. (2011) Ye et al. (2023) methods R SAS. demonstrate equivalence results highlighting simple user interface {beeca}. lightweight package developed focus facilitating quick industry adoption including compliance GxP validation requirements minimal dependencies. Note: cross-validation comparisons, use trial01 dataset (2-arm trial) pre-computed results SAS macros (margins_trial01, ge_macro_trial01) available dataset. methodology applies identically trial02_cdisc. Throughout comparisons, use dataset trial01 included {beeca} package focus risk difference contrast.","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"beeca","dir":"Articles","previous_headings":"Comparing different implementations > Ge et al (2011)","what":"beeca","title":"Introduction to estimating a marginal estimand with beeca","text":"","code":"# pre-process trial01 dataset to convert treatment arm to a factor and handle missing value data01 <- trial01 |>   transform(trtp = as.factor(trtp)) |>   dplyr::filter(!is.na(aval)) fit <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = data01) beeca_ge <- get_marginal_effect(object = fit, trt = \"trtp\", method = \"Ge\",                                 contrast = \"diff\", reference = \"0\", type = \"model-based\") cat(\"Point estimate\", beeca_ge$marginal_est, \"\\nStandard error estimate\", beeca_ge$marginal_se) ## Point estimate -0.06836399  ## Standard error estimate 0.06071641"},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"paper-code-ge-et-al--2011","dir":"Articles","previous_headings":"Comparing different implementations > Ge et al (2011)","what":"Paper code (Ge et al. 2011)","title":"Introduction to estimating a marginal estimand with beeca","text":"Code provided Ge et al. (2011) paper. Note corresponding SAS code also available paper.","code":"ge_var_paper <- function(glmfit, trt) {   pder <- function(ahat, vc, x) {     #### ahat: logistic regression parameters     #### vc: variance-covariance matrix of ahat     #### x: full model matrix of the logistic regression     #### return mean of phat on x and its se     phat <- plogis(x %*% ahat)     pbar <- mean(phat)     pderiv <- t(phat * (1 - phat)) %*% x / nrow(x)     sepbar <- sqrt(pderiv %*% vc %*% t(pderiv))     return(list(pbar = pbar, sepbar = sepbar, pderiv = pderiv))   }    difP <- function(glmfit) {     #### estimate the proportion difference and its standard error     df <- glmfit$model      vc <- vcov(glmfit)     df[, trt] <- 1     mat <- model.matrix(glmfit$formula, data = df)     pderT <- pder(coef(glmfit), vc, mat)     df[, trt] <- 0     mat <- model.matrix(glmfit$formula, data = df)     pderC <- pder(coef(glmfit), vc, mat)      difb <- pderT$pbar - pderC$pbar     sedif <- sqrt((pderT$pderiv - pderC$pderiv) %*% vc %*% t(pderT$pderiv - pderC$pderiv))      return(list(       pT = pderT$pbar,       pC = pderC$pbar,       dif = difb,       sedif = sedif,       var = sedif**2     ))   }    return(list(est = difP(glmfit)$dif, se = difP(glmfit)$sedif[[1]])) } paper_ge <- ge_var_paper(fit, \"trtp\") cat(\"Point estimate\", paper_ge$est, \"\\nStandard error estimate\", paper_ge$se) ## Point estimate -0.06836399  ## Standard error estimate 0.06071641"},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"using-margins","dir":"Articles","previous_headings":"Comparing different implementations > Ge et al (2011)","what":"Using {margins}","title":"Introduction to estimating a marginal estimand with beeca","text":"","code":"if (requireNamespace(\"margins\", quietly = T)) {   margins_ge <- margins::margins(model = fit, variables = \"trtp\", vcov = vcov(fit))   cat(\"Point estimate\", summary(margins_ge)$AME, \"\\nStandard error estimate\", summary(margins_ge)$SE) } ## Point estimate -0.06836399  ## Standard error estimate 0.06071641"},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"using-marginaleffects","dir":"Articles","previous_headings":"Comparing different implementations > Ge et al (2011)","what":"Using {marginaleffects}","title":"Introduction to estimating a marginal estimand with beeca","text":"","code":"if (requireNamespace(\"marginaleffects\", quietly = T)) {   marginaleffects_ge <- marginaleffects::avg_comparisons(fit, variables = \"trtp\")   cat(\"Point estimate\", marginaleffects_ge$estimate, \"\\nStandard error estimate\", marginaleffects_ge$std.error) } ## Point estimate -0.06836399  ## Standard error estimate 0.06071641"},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"sas-margins-macro","dir":"Articles","previous_headings":"Comparing different implementations > Ge et al (2011)","what":"SAS %Margins macro","title":"Introduction to estimating a marginal estimand with beeca","text":"","code":"%Margins(data      = myWork.trial01,          class     = trtp,          classgref = first, /*Set reference to first level*/          response  = avaln,          roptions  = event='1',           dist      = binomial,            model     = trtp bl_cov,          margins   = trtp,           options   = cl diff reverse,           link      = logit);      ** Store output data sets ;  data myWork.margins_trt_estimates;   set work._MARGINS; run;           data myWork.margins_trt_diffs;   set work._DIFFSPM; run; cat(\"Point estimate\", margins_trial01$Estimate, \"\\nStandard error estimate\", margins_trial01$StdErr) ## Point estimate -0.06836399  ## Standard error estimate 0.06071641"},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"ye-et-al-2023","dir":"Articles","previous_headings":"Comparing different implementations","what":"Ye et al (2023)","title":"Introduction to estimating a marginal estimand with beeca","text":"Version 1: RobinCar package","code":"beeca_ye <- get_marginal_effect(object = fit, trt = \"trtp\", method = \"Ye\",                                  contrast = \"diff\", reference = \"0\") cat(\"Point estimate\", beeca_ye$marginal_est, \"\\nStandard error estimate\", beeca_ye$marginal_se) ## Point estimate -0.06836399  ## Standard error estimate 0.0608836 if (requireNamespace(\"RobinCar\", quietly = T)) {   robincar_ye <- RobinCar::robincar_glm(data.frame(fit$data), response_col = as.character(fit$formula[2]),       treat_col = \"trtp\", formula = fit$formula, g_family = fit$family,       contrast_h = \"diff\")$contrast$result   cat(\"Point estimate\", robincar_ye$estimate, \"\\nStandard error estimate\", robincar_ye$se) } ## Point estimate -0.06836399  ## Standard error estimate 0.0608836"},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Introduction to estimating a marginal estimand with beeca","text":"creating clinical trial tables beeca results: vignette('clinical-trial-table') integrating cards ARD framework: vignette('ard-cards-integration')","code":""},{"path":"https://openpharma.github.io/beeca/articles/estimand_and_implementations.html","id":"references","dir":"Articles","previous_headings":"Next Steps","what":"References","title":"Introduction to estimating a marginal estimand with beeca","text":"Arel-Bundock V (2023). marginaleffects: Predictions, Comparisons, Slopes, Marginal Means, Hypothesis Tests. https://marginaleffects.com/. Bannick M, Ye T, Yi Y, Bian F (2024). RobinCar: Robust Estimation Inference Covariate-Adaptive Randomization. https://CRAN.R-project.org/package=RobinCar. European Medicines Agency. 2020. “ICH E9 (R1) addendum estimands sensitivity analysis clinical trials guideline statistical principles clinical trials.” https://www.ema.europa.eu/en/documents/scientific-guideline/ich-e9-r1-addendum-estimands--sensitivity-analysis-clinical-trials-guideline-statistical-principles-clinical-trials-step-5_en.pdf FDA. 2023. “Adjusting Covariates Randomized Clinical Trials Drugs Biological Products. Final Guidance Industry.” https://www.fda.gov/regulatory-information/search-fda-guidance-documents/adjusting-covariates-randomized-clinical-trials-drugs--biological-products Ge, Miaomiao, L Kathryn Durham, R Daniel Meyer, Wangang Xie, Neal Thomas. 2011. “Covariate-Adjusted Difference Proportions Clinical Trials Using Logistic Regression Weighted Risk Differences.” Drug Information Journal: DIJ/Drug Information Association 45: 481–93. https://doi.org/10.1177/009286151104500409 Magirr D, Wang C, Przybylski , Baillie M (2025). “Estimating Variance Covariate-Adjusted Estimators Average Treatment Effects Clinical Trials Binary Endpoints.” Pharmaceutical Statistics 24(4): e70021. https://doi.org/10.1002/pst.70021 SAS Institute Inc. “Predictive margins average marginal effects.” https://support.sas.com/kb/63/038.html (Last Published: 13 Dec 2023) Thomas J. Leeper (2021). margins: Marginal Effects Model Objects. https://github.com/leeper/margins. Ye, Ting, Marlena Bannick, Yanyao Yi, Jun Shao. 2023. “Robust Variance Estimation Covariate-Adjusted Unconditional Treatment Effect Randomized Clinical Trials Binary Outcomes.” Statistical Theory Related Fields 7 (2): 159–63. https://doi.org/10.1080/24754269.2023.2205802","code":""},{"path":"https://openpharma.github.io/beeca/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Alex Przybylski. Maintainer, author. Mark Baillie. Author. Craig Wang. Author. Dominic Magirr. Author.","code":""},{"path":"https://openpharma.github.io/beeca/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Przybylski , Baillie M, Wang C, Magirr D (2026). beeca: Binary Endpoint Estimation Covariate Adjustment. R package version 0.3.0, https://openpharma.github.io/beeca/.","code":"@Manual{,   title = {beeca: Binary Endpoint Estimation with Covariate Adjustment},   author = {Alex Przybylski and Mark Baillie and Craig Wang and Dominic Magirr},   year = {2026},   note = {R package version 0.3.0},   url = {https://openpharma.github.io/beeca/}, }"},{"path":"https://openpharma.github.io/beeca/index.html","id":"binary-endpoint-estimation-with-covariate-adjustment","dir":"","previous_headings":"","what":"Binary Endpoint Estimation with Covariate Adjustment","title":"Binary Endpoint Estimation with Covariate Adjustment","text":"goal beeca provide implementation solution simple user interface estimate marginal estimands binary endpoint setting covariate adjustment. primary aim lightweight implementation facilitate quick industry adoption use within GxP environments. secondary aim support simulation studies included Magirr et al. (2025).","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/index.html","id":"methodology","dir":"","previous_headings":"","what":"Methodology","title":"Binary Endpoint Estimation with Covariate Adjustment","text":"Motivated recent FDA guidance (2023) “Adjusting Covariates Randomized Clinical Trials Drugs Biological Products Guidance Industry” recommendations robust variance estimation, implemented two approaches, namely Ge et al. (2011) Ye et al. (2023), perform variance estimation treatment effect estimator based g-computation logistic regression working model.","code":""},{"path":"https://openpharma.github.io/beeca/index.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Binary Endpoint Estimation with Covariate Adjustment","text":"package designed estimate marginal (unconditional) estimands binary endpoint setting covariate adjustment. suited clinical trials without covariate adaptive (stratified permuted block biased coin) randomization summary measure marginal estimand one (risk difference, odds ratio, risk ratio, log odds ratio, log risk ratio). practical considerations implications covariate adjustment superiority vs non-inferiority trials, please see Nicholas et al. (2015) Morris et al. (2022).","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/index.html","id":"quick-start-with-beeca_fit","dir":"","previous_headings":"Examples","what":"Quick Start with beeca_fit()","title":"Binary Endpoint Estimation with Covariate Adjustment","text":"beeca_fit() function provides streamlined workflow covariate-adjusted analysis:","code":"library(beeca)  ## Quick analysis with beeca_fit() fit <- beeca_fit(   data = trial01,   outcome = \"aval\",   treatment = \"trtp\",   covariates = \"bl_cov\",   method = \"Ye\",   contrast = \"diff\" )  ## View concise results print(fit)  ## View detailed results summary(fit)  ## Create forest plot plot(fit)"},{"path":"https://openpharma.github.io/beeca/index.html","id":"manual-workflow","dir":"","previous_headings":"Examples","what":"Manual Workflow","title":"Binary Endpoint Estimation with Covariate Adjustment","text":"control analysis, use manual workflow:","code":"library(beeca)  ## Set treatment to a factor trial01$trtp <- factor(trial01$trtp)  ## Fit a logistic regression working model and pass it to beeca fit1 <- glm(aval ~ trtp + bl_cov, family=\"binomial\", data=trial01) |>   get_marginal_effect(trt=\"trtp\", method=\"Ye\", contrast=\"diff\")  ## View the results in Analysis Results Data (ARD) structure fit1$marginal_results  ## Or use the tidy method for broom-compatible output tidy(fit1, conf.int = TRUE)  ## Include marginal risk estimates for each treatment arm tidy(fit1, include_marginal = TRUE, conf.int = TRUE)  ## Create a forest plot with customization plot(fit1, conf.level = 0.90, title = \"Treatment Effect Analysis\")"},{"path":"https://openpharma.github.io/beeca/index.html","id":"package-documentation","dir":"","previous_headings":"","what":"Package documentation","title":"Binary Endpoint Estimation with Covariate Adjustment","text":"package documentation can found . brief overview different estimands estimation, please see vignette vignette(\"estimand_and_implementations\").","code":""},{"path":"https://openpharma.github.io/beeca/index.html","id":"quality-checks","dir":"","previous_headings":"","what":"Quality checks","title":"Binary Endpoint Estimation with Covariate Adjustment","text":"possible cross checked {beeca} package alternative implementations SAS R. example, Ge et al. method applies delta method cross checked SAS %margins macro R packages {margins} {marginaleffects}. Ye et al. method cross checked {RobinCar}.","code":""},{"path":"https://openpharma.github.io/beeca/index.html","id":"package-authors","dir":"","previous_headings":"","what":"Package authors","title":"Binary Endpoint Estimation with Covariate Adjustment","text":"Alex Przybylski Craig Wang Dominic Magirr Mark Baillie","code":""},{"path":"https://openpharma.github.io/beeca/index.html","id":"acknowledgments","dir":"","previous_headings":"","what":"Acknowledgments","title":"Binary Endpoint Estimation with Covariate Adjustment","text":"lightweight implementation inspired aided comprehensive {RobinCar} package, developed Marlena Bannick, Ting Ye et al. thank ASA-BIOP Covariate Adjustment Scientific Working Group valuable feedback discussions. development covariate adjustment software Software Subteam ASA-BIOP Covariate Adjustment Scientific Working Group.","code":""},{"path":"https://openpharma.github.io/beeca/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Binary Endpoint Estimation with Covariate Adjustment","text":"FDA. 2023. “Adjusting Covariates Randomized Clinical Trials Drugs Biological Products. Final Guidance Industry.” https://www.fda.gov/regulatory-information/search-fda-guidance-documents/adjusting-covariates-randomized-clinical-trials-drugs--biological-products Ge, Miaomiao, L Kathryn Durham, R Daniel Meyer, Wangang Xie, Neal Thomas. 2011. “Covariate-Adjusted Difference Proportions Clinical Trials Using Logistic Regression Weighted Risk Differences.” Drug Information Journal: DIJ/Drug Information Association 45: 481–93. https://doi.org/10.1177/009286151104500409 Magirr, Dominic, Craig Wang, Alexander Przybylski, Mark Baillie. 2025. “Estimating Variance Covariate-Adjusted Estimators Average Treatment Effects Clinical Trials Binary Endpoints.” Pharmaceutical Statistics 24 (4): e70021. https://doi.org/10.1002/pst.70021 Ye, Ting, Marlena Bannick, Yanyao Yi, Jun Shao. 2023. “Robust Variance Estimation Covariate-Adjusted Unconditional Treatment Effect Randomized Clinical Trials Binary Outcomes.” Statistical Theory Related Fields 7 (2): 159–63. https://doi.org/10.1080/24754269.2023.2205802","code":""},{"path":"https://openpharma.github.io/beeca/reference/apply_contrast.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply contrast to calculate marginal estimate of treatment effect and corresponding standard error — apply_contrast","title":"Apply contrast to calculate marginal estimate of treatment effect and corresponding standard error — apply_contrast","text":"Calculates marginal estimate treatment effect corresponding standard error based fitted GLM object using specified contrast (summary measure) methods","code":""},{"path":"https://openpharma.github.io/beeca/reference/apply_contrast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply contrast to calculate marginal estimate of treatment effect and corresponding standard error — apply_contrast","text":"","code":"apply_contrast(   object,   contrast = c(\"diff\", \"rr\", \"or\", \"logrr\", \"logor\"),   reference )"},{"path":"https://openpharma.github.io/beeca/reference/apply_contrast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply contrast to calculate marginal estimate of treatment effect and corresponding standard error — apply_contrast","text":"object fitted glm object augmented counterfactual.predictions, counterfactual.means robust_varcov. contrast string specifying type contrast apply. Accepted values \"diff\" (risk difference), \"rr\" (risk ratio), \"\" (odds ratio), \"logrr\" (log risk ratio), \"logor\" (log odds ratio). Note: log-transformed ratios (logrr logor) work better compared rr computing confidence intervals using normal approximation. choice contrast affects treatment effects calculated interpreted. Default diff. reference string list strings indicating treatment group(s) use reference level pairwise comparisons. Accepted values must subset levels treatment variable. Default first n-1 treatment levels used glm object. parameter influences calculation treatment effects relative chosen reference group.","code":""},{"path":"https://openpharma.github.io/beeca/reference/apply_contrast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply contrast to calculate marginal estimate of treatment effect and corresponding standard error — apply_contrast","text":"updated glm object two additional components appended: marginal_est (marginal estimate treatment effect) marginal_se (standard error marginal estimate). appended component provide crucial information interpreting treatment effect using specified contrast method.","code":""},{"path":"https://openpharma.github.io/beeca/reference/apply_contrast.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Apply contrast to calculate marginal estimate of treatment effect and corresponding standard error — apply_contrast","text":"apply_constrast() functions computes summary measure two arms based estimated marginal effect variance-covariance matrix using Delta method. Note: Ensure glm object adequately prepared average_predictions() estimate_varcov() applying apply_contrast(). Failure may result errors indicating missing components.","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/apply_contrast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply contrast to calculate marginal estimate of treatment effect and corresponding standard error — apply_contrast","text":"","code":"trial01$trtp <- factor(trial01$trtp) fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01) |>   predict_counterfactuals(trt = \"trtp\") |>   average_predictions() |>   estimate_varcov(method = \"Ye\") |>   apply_contrast(\"diff\", reference = \"0\") #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting.  # Assuming `trial01` is a dataset with treatment (`trtp`) # and baseline covariate (`bl_cov`) trial01$trtp <- factor(trial01$trtp) fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01)  # Preprocess fit1 as required by apply_contrast fit2 <- fit1 |>   predict_counterfactuals(trt = \"trtp\") |>   average_predictions() |>   estimate_varcov(method = \"Ye\") #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting.  # Apply contrast to calculate marginal estimates fit3 <- apply_contrast(fit2, contrast = \"diff\", reference = \"0\")  fit3$marginal_est #>   diff: 1-0  #> -0.06836399  #> attr(,\"reference\") #> [1] \"0\" #> attr(,\"contrast\") #> [1] \"diff: 1-0\" fit3$marginal_se #> diff: 1-0  #> 0.0608836  #> attr(,\"reference\") #> [1] \"0\" #> attr(,\"contrast\") #> [1] \"diff: 1-0\" #> attr(,\"type\") #> [1] \"Ye\""},{"path":"https://openpharma.github.io/beeca/reference/as_gt.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert beeca object to gt table — as_gt","title":"Convert beeca object to gt table — as_gt","text":"Creates publication-ready clinical trial table beeca analysis results using gt package. table includes marginal risks treatment arm, treatment effect estimates confidence intervals, supports customization titles, footnotes, analysis set information.","code":""},{"path":"https://openpharma.github.io/beeca/reference/as_gt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert beeca object to gt table — as_gt","text":"","code":"as_gt(x, ...)  # S3 method for class 'beeca' as_gt(   x,   title = NULL,   subtitle = NULL,   source_note = NULL,   analysis_set = NULL,   analysis_set_n = NULL,   conf.level = 0.95,   risk_digits = 1,   effect_digits = 2,   include_ci = TRUE,   include_pvalue = TRUE,   risk_percent = TRUE,   ... )"},{"path":"https://openpharma.github.io/beeca/reference/as_gt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert beeca object to gt table — as_gt","text":"x beeca object (get_marginal_effect beeca_fit) ... additional arguments passed gt functions title character string table title. Default NULL (title). subtitle character string table subtitle. Default NULL. source_note character string table source/footnote. Default NULL. analysis_set character string describing analysis population (e.g., \"Full Analysis Set (FAS)\", \"Per Protocol Set\"). Default NULL. analysis_set_n integer, number subjects analysis set. NULL (default), uses sample size model. conf.level numeric, confidence level intervals. Default 0.95. risk_digits integer, decimal places risk estimates. Default 1 (displays percentages). effect_digits integer, decimal places treatment effect. Default 2. include_ci logical, whether include confidence intervals. Default TRUE. include_pvalue logical, whether include p-values. Default TRUE. risk_percent logical, TRUE displays risks percentages (0-100), FALSE displays proportions (0-1). Default TRUE.","code":""},{"path":"https://openpharma.github.io/beeca/reference/as_gt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert beeca object to gt table — as_gt","text":"gt table object","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/as_gt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert beeca object to gt table — as_gt","text":"","code":"if (requireNamespace(\"gt\", quietly = TRUE)) {   # Fit model   trial01$trtp <- factor(trial01$trtp)   fit <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01) |>     get_marginal_effect(trt = \"trtp\", method = \"Ye\", contrast = \"diff\", reference = \"0\")    # Create clinical trial table   as_gt(fit,     title = \"Table 14.2.1: Primary Efficacy Analysis\",     subtitle = \"Response Rate by Treatment Group\",     source_note = paste(\"Risk difference estimated using g-computation\",                         \"with robust variance (Ye et al. 2023)\"),     analysis_set = \"Full Analysis Set (FAS)\"   ) } #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting.     Table 14.2.1: Primary Efficacy Analysis     Response Rate by Treatment Group     Treatment       N       Responders       Estimate (%)       95% CI       P-value     Marginal Risk     0 133 65 48.7 (40.2, 57.3) 1 134 56 41.9 (33.5, 50.3) NARisk Difference     diff: 1-0   -6.84 (-18.77, 5.10) 0.261Full Analysis Set (FAS) (N = 267)     Risk difference estimated using g-computation with robust variance (Ye et al. 2023)     Marginal risks estimated using g-computation. Variance estimated using Ye method."},{"path":"https://openpharma.github.io/beeca/reference/augment.beeca.html","id":null,"dir":"Reference","previous_headings":"","what":"Augment method for beeca objects — augment.beeca","title":"Augment method for beeca objects — augment.beeca","text":"Augments original dataset predictions counterfactual outcomes beeca analysis. function provides broom-compatible interface accessing individual-level predictions potential outcomes different treatment assignments.","code":""},{"path":"https://openpharma.github.io/beeca/reference/augment.beeca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Augment method for beeca objects — augment.beeca","text":"","code":"# S3 method for class 'beeca' augment(   x,   data = NULL,   newdata = NULL,   type.predict = \"response\",   type.residuals = \"deviance\",   ... )"},{"path":"https://openpharma.github.io/beeca/reference/augment.beeca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Augment method for beeca objects — augment.beeca","text":"x beeca object (glm object modified get_marginal_effect) data optional dataset augment. NULL (default), uses data original model fit. newdata deprecated. Use data instead. type.predict type prediction include .fitted. Options \"response\" (default, predicted probabilities) \"link\" (linear predictor scale). type.residuals type residuals include. Options \"deviance\" (default), \"pearson\", \"response\", \"working\". Set NULL exclude residuals. ... additional arguments (currently used)","code":""},{"path":"https://openpharma.github.io/beeca/reference/augment.beeca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Augment method for beeca objects — augment.beeca","text":"tibble containing original data augmented :","code":""},{"path":"https://openpharma.github.io/beeca/reference/augment.beeca.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Augment method for beeca objects — augment.beeca","text":"augment.beeca() method returns original dataset used analysis, augmented additional columns containing: Fitted values working model (.fitted) Counterfactual predictions treatment level Optionally, residuals diagnostic information particularly useful : Examining individual predictions potential outcomes Creating plots treatment effects across covariates Conducting sensitivity analyses Understanding g-computation works individual level counterfactual column represents predicted outcome subject assigned specific treatment level, holding covariates constant.","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/augment.beeca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Augment method for beeca objects — augment.beeca","text":"","code":"trial01$trtp <- factor(trial01$trtp) fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01) |>   get_marginal_effect(trt = \"trtp\", method = \"Ye\", contrast = \"diff\", reference = \"0\") #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting.  # Augment with counterfactual predictions augmented <- augment(fit1) head(augmented) #> # A tibble: 6 × 8 #>    aval trtp  bl_cov .rownames .fitted .resid .counterfactual_0 #>   <dbl> <fct>  <dbl> <chr>       <dbl>  <dbl>             <dbl> #> 1     0 1       5.85 2           0.463 -1.12              0.533 #> 2     0 0       5.05 3           0.537 -1.24              0.537 #> 3     0 0      15.6  4           0.481 -1.15              0.481 #> 4     0 1      10.1  5           0.441 -1.08              0.510 #> 5     0 1      25.7  6           0.362 -0.948             0.428 #> 6     1 0      17.0  7           0.474  1.22              0.474 #> # ℹ 1 more variable: .counterfactual_1 <dbl>  # Access counterfactual predictions for treatment level 1 augmented$.counterfactual_1 #>   [1] 0.4634279 0.4676301 0.4127455 0.4411090 0.3621208 0.4058096 0.4208994 #>   [8] 0.4267151 0.4449290 0.4215244 0.3907289 0.4512412 0.3894764 0.3687170 #>  [15] 0.4622316 0.4041297 0.4183539 0.4188515 0.3402957 0.4657572 0.3916215 #>  [22] 0.4220542 0.4674856 0.4581573 0.4435192 0.4133057 0.4270845 0.4108900 #>  [29] 0.3829508 0.4523136 0.4650323 0.4585527 0.4152049 0.4225623 0.3928249 #>  [36] 0.4429842 0.3957282 0.4263597 0.4141053 0.4116243 0.4519878 0.4189395 #>  [43] 0.4074387 0.4383453 0.3512238 0.4630054 0.4546930 0.4580911 0.3766422 #>  [50] 0.4228557 0.4264304 0.3826072 0.4674416 0.3732901 0.4206740 0.4388415 #>  [57] 0.3603614 0.4661996 0.4272426 0.4489273 0.3797316 0.4377377 0.4236785 #>  [64] 0.4663822 0.4197254 0.4625371 0.3687789 0.4473409 0.4202968 0.4083744 #>  [71] 0.4152470 0.4469233 0.4499352 0.4483094 0.3836290 0.3639997 0.4262686 #>  [78] 0.4379126 0.3650080 0.3891769 0.4356611 0.4213898 0.4593923 0.4375804 #>  [85] 0.4430570 0.3963668 0.4504229 0.4534702 0.4230941 0.4605559 0.4410356 #>  [92] 0.4068696 0.4135581 0.4671201 0.3971339 0.4374045 0.4356424 0.3824886 #>  [99] 0.3746329 0.4454242 0.4516408 0.4046705 0.3854636 0.4495476 0.4297727 #> [106] 0.3714885 0.4039131 0.3795198 0.4339617 0.4173167 0.4506223 0.4103758 #> [113] 0.4427342 0.4567257 0.4167769 0.4284480 0.3922526 0.4401479 0.4203372 #> [120] 0.4033151 0.3760781 0.4243712 0.4636694 0.4354350 0.4471726 0.4163719 #> [127] 0.4097057 0.4167619 0.4314871 0.3712133 0.4370184 0.4273578 0.3903450 #> [134] 0.4552259 0.3606622 0.4516058 0.4564055 0.4176759 0.4002280 0.4386181 #> [141] 0.4396465 0.4385918 0.4460622 0.4318266 0.4525934 0.4207744 0.3986752 #> [148] 0.4066523 0.4496539 0.3718219 0.4404118 0.4108943 0.4427433 0.3526566 #> [155] 0.4211882 0.4454954 0.4259513 0.3879992 0.4672212 0.3829437 0.3788080 #> [162] 0.4002329 0.3971305 0.3946492 0.4599363 0.3233190 0.4158290 0.3972873 #> [169] 0.3811499 0.4015844 0.4547610 0.3674307 0.4399465 0.4409163 0.4385927 #> [176] 0.4549060 0.3629759 0.4119639 0.4012083 0.4216180 0.4478004 0.4495813 #> [183] 0.4136199 0.3886485 0.3759049 0.3977520 0.3409476 0.4674119 0.3915213 #> [190] 0.4076758 0.3853761 0.3721603 0.4126525 0.4551333 0.4396157 0.4537616 #> [197] 0.4083160 0.4384677 0.3933559 0.4175944 0.4367736 0.4358176 0.4323384 #> [204] 0.4519830 0.4381953 0.3892694 0.3969917 0.3869203 0.4171850 0.3869024 #> [211] 0.3722248 0.3379725 0.4560669 0.4077280 0.3938624 0.4581696 0.4586348 #> [218] 0.4001457 0.4056401 0.4439697 0.4414874 0.3874737 0.4328493 0.3809702 #> [225] 0.4012755 0.4197442 0.3763476 0.4275136 0.4230628 0.4515527 0.4136111 #> [232] 0.4385581 0.4600362 0.4537875 0.4414151 0.3589953 0.4633271 0.3862286 #> [239] 0.4076310 0.4138884 0.4168317 0.3767011 0.3960248 0.4648963 0.4631316 #> [246] 0.4252635 0.4247280 0.4595339 0.4557202 0.3396759 0.3516773 0.3721324 #> [253] 0.4016934 0.4551803 0.4396470 0.4153078 0.3832560 0.4262962 0.4386496 #> [260] 0.4329465 0.4536864 0.3831329 0.4646627 0.3838310 0.4001507 0.4117796 #> [267] 0.4374523  if (requireNamespace(\"ggplot2\", quietly = TRUE)) {   # Examine predictions by baseline covariate   library(ggplot2)   ggplot(augmented, aes(x = bl_cov, y = .counterfactual_1 - .counterfactual_0)) +     geom_point() +     labs(y = \"Individual Treatment Effect\") }"},{"path":"https://openpharma.github.io/beeca/reference/average_predictions.html","id":null,"dir":"Reference","previous_headings":"","what":"Average over counterfactual predictions — average_predictions","title":"Average over counterfactual predictions — average_predictions","text":"average_predictions() averages counterfactual predictions stored within glm object. pivotal estimating treatment contrasts associated variance estimates using g-computation. function assumes predictions generated via predict_counterfactuals().","code":""},{"path":"https://openpharma.github.io/beeca/reference/average_predictions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Average over counterfactual predictions — average_predictions","text":"","code":"average_predictions(object)"},{"path":"https://openpharma.github.io/beeca/reference/average_predictions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Average over counterfactual predictions — average_predictions","text":"object fitted glm object augmented counterfactual predictions named: counterfactual.predictions","code":""},{"path":"https://openpharma.github.io/beeca/reference/average_predictions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Average over counterfactual predictions — average_predictions","text":"updated glm object appended additional component counterfactual.means.","code":""},{"path":"https://openpharma.github.io/beeca/reference/average_predictions.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Average over counterfactual predictions — average_predictions","text":"average_predictions() function calculates average counterfactual predictions can used estimate treatment contrast associated variance estimate. function appends glm object averaged counterfactual predictions. Note: Ensure glm object adequately prepared predict_counterfactuals() applying average_predictions(). Failure may result errors indicating missing components.","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/average_predictions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Average over counterfactual predictions — average_predictions","text":"","code":"# Use the trial01 dataset data(trial01)  # ensure the treatment indicator is a factor trial01$trtp <- factor(trial01$trtp)  # fit glm model for trial data fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01)  # Preprocess fit1 as required by average_predictions fit2 <- fit1 |>   predict_counterfactuals(trt = \"trtp\") #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting.  # average over the counterfactual predictions fit3 <- average_predictions(fit2)  # display the average predictions fit3$counterfactual.means #>         0         1  #> 0.4874723 0.4191083"},{"path":"https://openpharma.github.io/beeca/reference/beeca-package.html","id":null,"dir":"Reference","previous_headings":"","what":"beeca: Binary Endpoint Estimation with Covariate Adjustment — beeca-package","title":"beeca: Binary Endpoint Estimation with Covariate Adjustment — beeca-package","text":"Performs estimation marginal treatment effects binary outcomes using logistic regression working models covariate adjustment (see Magirr et al (2025) doi:10.1002/pst.70021 ). Implements variance estimators Ge et al (2011) doi:10.1177/009286151104500409  Ye et al (2023) doi:10.1080/24754269.2023.2205802 .","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/beeca-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"beeca: Binary Endpoint Estimation with Covariate Adjustment — beeca-package","text":"Maintainer: Alex Przybylski alexander.przybylski@novartis.com Authors: Mark Baillie mark.baillie@novartis.com (ORCID) Craig Wang craig.wang@novartis.com (ORCID) Dominic Magirr dominic.magirr@novartis.com","code":""},{"path":"https://openpharma.github.io/beeca/reference/beeca_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Quick beeca analysis pipeline — beeca_fit","title":"Quick beeca analysis pipeline — beeca_fit","text":"convenience function streamlines workflow conducting covariate-adjusted marginal treatment effect analysis. function combines model fitting marginal effect estimation single call, automatic data preprocessing informative messages.","code":""},{"path":"https://openpharma.github.io/beeca/reference/beeca_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Quick beeca analysis pipeline — beeca_fit","text":"","code":"beeca_fit(   data,   outcome,   treatment,   covariates = NULL,   method = c(\"Ye\", \"Ge\"),   contrast = c(\"diff\", \"rr\", \"or\", \"logrr\", \"logor\"),   reference = NULL,   strata = NULL,   family = binomial(),   verbose = TRUE,   ... )"},{"path":"https://openpharma.github.io/beeca/reference/beeca_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Quick beeca analysis pipeline — beeca_fit","text":"data data frame containing analysis variables outcome character string specifying outcome variable name. Must coded 0/1 factor two levels. treatment character string specifying treatment variable name. converted factor already one. covariates optional character vector specifying covariate names adjustment. NULL, unadjusted analysis performed. method variance estimation method. One \"Ye\" (default) \"Ge\". See get_marginal_effect details. contrast type summary measure. One \"diff\" (risk difference, default), \"rr\" (risk ratio), \"\" (odds ratio), \"logrr\" (log risk ratio), \"logor\" (log odds ratio). reference optional character string vector specifying reference treatment level(s) comparisons. NULL, defaults first level. strata optional character vector specifying stratification variables (used method = \"Ye\"). family GLM family. Default binomial() logistic regression. verbose logical indicating whether print progress messages. Default TRUE. ... additional arguments passed get_marginal_effect","code":""},{"path":"https://openpharma.github.io/beeca/reference/beeca_fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Quick beeca analysis pipeline — beeca_fit","text":"beeca object (augmented glm object) marginal effect estimates. See get_marginal_effect details returned object.","code":""},{"path":"https://openpharma.github.io/beeca/reference/beeca_fit.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Quick beeca analysis pipeline — beeca_fit","text":"function provides simplified interface beeca workflow : Automatically converting treatment variable factor needed Building model formula variable names Fitting logistic regression model Computing marginal effects robust variance estimation Providing informative progress messages control analysis, use glm() followed get_marginal_effect() directly.","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/beeca_fit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Quick beeca analysis pipeline — beeca_fit","text":"","code":"# Simple two-arm analysis fit <- beeca_fit(   data = trial01,   outcome = \"aval\",   treatment = \"trtp\",   covariates = \"bl_cov\",   method = \"Ye\",   contrast = \"diff\",   verbose = FALSE ) #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting. #> Warning: No reference argument was provided, using {0} as the reference level(s)  # View results print(fit) #> beeca: Covariate-Adjusted Marginal Treatment Effect #> ======================================================= #>  #> Contrast:  diff: 1-0 #> Estimate:  -0.0684 (SE = 0.0609) #> Z-value:   -1.1229 #> P-value:   0.2615 #>  #> Use summary() for detailed results #> Use tidy() for broom-compatible output #> Use plot() for visualizations summary(fit) #>  #> Covariate-Adjusted Marginal Treatment Effect Analysis #> ============================================================ #>  #> Model Information: #> ------------------------------------------------------------ #>   Working model:      Logistic regression with covariate adjustment #>   Variance estimator: Ye #>   Contrast type:      diff #>   Sample size:        267 #>   Outcome variable:   aval #>  #> Marginal Risks (g-computation): #> ------------------------------------------------------------ #>  Treatment Risk   SE     95% CI           #>  0         0.4875 0.0435 (0.4022, 0.5728) #>  1         0.4191 0.0427 (0.3354, 0.5028) #>  #> Treatment Effect Estimates: #> ------------------------------------------------------------ #>  Comparison Estimate SE     Z value 95% CI            P value #>  diff: 1-0  -0.0684  0.0609 -1.1232 (-0.1878, 0.0510) 0.26    #>  #> ------------------------------------------------------------ #> Note: Standard errors and tests based on robust variance estimation #> Use tidy() for data frame output or plot() for visualizations"},{"path":"https://openpharma.github.io/beeca/reference/beeca_summary_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a summary statistics table for beeca analysis — beeca_summary_table","title":"Create a summary statistics table for beeca analysis — beeca_summary_table","text":"Creates summary table showing descriptive statistics treatment effects beeca analysis. function provides simpler alternative as_gt() returns data frame suitable customization.","code":""},{"path":"https://openpharma.github.io/beeca/reference/beeca_summary_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a summary statistics table for beeca analysis — beeca_summary_table","text":"","code":"beeca_summary_table(x, conf.level = 0.95, risk_percent = TRUE)"},{"path":"https://openpharma.github.io/beeca/reference/beeca_summary_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a summary statistics table for beeca analysis — beeca_summary_table","text":"x beeca object conf.level numeric, confidence level intervals. Default 0.95. risk_percent logical, TRUE displays risks percentages. Default TRUE.","code":""},{"path":"https://openpharma.github.io/beeca/reference/beeca_summary_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a summary statistics table for beeca analysis — beeca_summary_table","text":"data frame summary statistics","code":""},{"path":"https://openpharma.github.io/beeca/reference/beeca_summary_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a summary statistics table for beeca analysis — beeca_summary_table","text":"","code":"trial01$trtp <- factor(trial01$trtp) fit <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01) |>   get_marginal_effect(trt = \"trtp\", method = \"Ye\", contrast = \"diff\", reference = \"0\") #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting.  beeca_summary_table(fit) #> $arm_statistics #> # A tibble: 2 × 8 #>   treatment     N n_responders observed_rate marginal_risk marginal_risk_se #>   <chr>     <dbl>        <dbl>         <dbl>         <dbl>            <dbl> #> 1 0           133           65          48.9          48.7             4.35 #> 2 1           134           56          41.8          41.9             4.27 #> # ℹ 2 more variables: marginal_risk_ci_low <dbl>, marginal_risk_ci_high <dbl> #>  #> $treatment_effects #> # A tibble: 1 × 7 #>   comparison estimate std_error ci_low ci_high z_statistic p_value #>   <chr>         <dbl>     <dbl>  <dbl>   <dbl>       <dbl>   <dbl> #> 1 diff: 1-0     -6.84      6.09  -18.8    5.10       -1.12   0.261 #>  #> $metadata #> $metadata$conf_level #> [1] 0.95 #>  #> $metadata$contrast_type #> [1] \"diff\" #>  #> $metadata$variance_method #> [1] \"Ye\" #>  #> $metadata$reference #> [1] \"0\" #>  #> $metadata$n_total #> [1] 267 #>  #> $metadata$risk_percent #> [1] TRUE #>  #>"},{"path":"https://openpharma.github.io/beeca/reference/beeca_to_cards_ard.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert beeca marginal_results to cards ARD format — beeca_to_cards_ard","title":"Convert beeca marginal_results to cards ARD format — beeca_to_cards_ard","text":"Converts marginal_results component beeca analysis ARD (Analysis Results Data) format used cards package. enables integration cards/cardx ecosystem comprehensive reporting quality control workflows.","code":""},{"path":"https://openpharma.github.io/beeca/reference/beeca_to_cards_ard.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert beeca marginal_results to cards ARD format — beeca_to_cards_ard","text":"","code":"beeca_to_cards_ard(marginal_results)"},{"path":"https://openpharma.github.io/beeca/reference/beeca_to_cards_ard.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert beeca marginal_results to cards ARD format — beeca_to_cards_ard","text":"marginal_results beeca marginal_results tibble/data frame containing output get_marginal_effect()$marginal_results.","code":""},{"path":"https://openpharma.github.io/beeca/reference/beeca_to_cards_ard.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert beeca marginal_results to cards ARD format — beeca_to_cards_ard","text":"cards ARD object (tibble class 'card') containing: group1: Treatment variable name (character) group1_level: Treatment level (list-column, numeric possible, else character) variable: Outcome variable name (character) variable_level: Specific level variable (character, NA beeca) stat_name, stat_label: Statistic identifier human-readable label stat: calculated value (list-column) context: Analysis context (combining ANALTYP1 ANALMETH) fmt_fn, warning, error: Cards-specific metadata (list-columns)","code":""},{"path":"https://openpharma.github.io/beeca/reference/beeca_to_cards_ard.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert beeca marginal_results to cards ARD format — beeca_to_cards_ard","text":"function maps beeca's CDISC-inspired ARD structure cards package format: Original beeca metadata preserved beeca_description attribute.","code":""},{"path":"https://openpharma.github.io/beeca/reference/beeca_to_cards_ard.html","id":"package-requirements","dir":"Reference","previous_headings":"","what":"Package Requirements","title":"Convert beeca marginal_results to cards ARD format — beeca_to_cards_ard","text":"function requires cards package installed. listed suggested dependency provide informative error available.","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/beeca_to_cards_ard.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert beeca marginal_results to cards ARD format — beeca_to_cards_ard","text":"","code":"if (requireNamespace(\"cards\", quietly = TRUE)) {   # Fit model and get beeca results   trial01$trtp <- factor(trial01$trtp)   fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01) |>     get_marginal_effect(trt = \"trtp\", method = \"Ye\", contrast = \"diff\", reference = \"0\")    # Convert to cards format   cards_ard <- beeca_to_cards_ard(fit1$marginal_results)    # Print the cards ARD (uses print method for 'card' class)   print(cards_ard)    # Bind with other cards ARDs   combined_ard <- cards::bind_ard(     cards_ard,     cards::ard_continuous(trial01, by = trtp, variables = bl_cov)   ) } #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting. #> {cards} data frame: 12 x 11 #>    group1 group1_level variable variable_level stat_name stat_label   stat #> 1    trtp            0     aval             NA         N          N    133 #> 2    trtp            0     aval             NA         n          n     65 #> 3    trtp            0     aval             NA         %          % 48.872 #> 4    trtp            0     aval             NA      risk       Risk  0.487 #> 5    trtp            0     aval             NA   risk_se    Risk SE  0.044 #> 6    trtp            1     aval             NA         N          N    134 #> 7    trtp            1     aval             NA         n          n     56 #> 8    trtp            1     aval             NA         %          % 41.791 #> 9    trtp            1     aval             NA      risk       Risk  0.419 #> 10   trtp            1     aval             NA   risk_se    Risk SE  0.043 #> 11   trtp    diff: 1-0     aval             NA      diff  Differen… -0.068 #> 12   trtp    diff: 1-0     aval             NA   diff_se  Differen…  0.061 #> ℹ 4 more variables: context, warning, error, fmt_fn"},{"path":"https://openpharma.github.io/beeca/reference/estimate_varcov.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate variance-covariance matrix for marginal estimand based on GLM model — estimate_varcov","title":"Estimate variance-covariance matrix for marginal estimand based on GLM model — estimate_varcov","text":"Main variance estimation function. Estimates variance-covariance matrix marginal estimand generalized linear model (GLM) object using specified methods. function supports Ge's Ye's methods variance estimation, accommodating different estimand specifications.","code":""},{"path":"https://openpharma.github.io/beeca/reference/estimate_varcov.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate variance-covariance matrix for marginal estimand based on GLM model — estimate_varcov","text":"","code":"estimate_varcov(   object,   strata = NULL,   method = c(\"Ge\", \"Ye\"),   type = c(\"HC0\", \"model-based\", \"HC3\", \"HC\", \"HC1\", \"HC2\", \"HC4\", \"HC4m\", \"HC5\"),   mod = FALSE )"},{"path":"https://openpharma.github.io/beeca/reference/estimate_varcov.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate variance-covariance matrix for marginal estimand based on GLM model — estimate_varcov","text":"object fitted glm object augmented counterfactual.predictions, counterfactual.predictions counterfactual.means strata optional string vector strings specifying names stratification variables. Relevant Ye's method used adjust variance-covariance estimation stratification. provided, specified variable must present model. method string indicating chosen method variance estimation. Supported methods Ge Ye. default method Ge based Ge et al (2011) suitable variance estimation conditional average treatment effect. method Ye based Ye et al (2023) suitable variance estimation population average treatment effect. details, see Magirr et al. (2025) doi:10.1002/pst.70021 . type string indicating type variance estimator use (applicable Ge's method). Supported types include HC0 (default), model-based, HC3, HC, HC1, HC2, HC4, HC4m, HC5. See vcovHC heteroscedasticity-consistent estimators. parameter allows flexibility handling heteroscedasticity model specification errors. mod Ye's method, implementation open-source RobinCar package additional variance decomposition step estimating robust variance, utilizes different counterfactual outcomes original reference. Set mod = TRUE use exactly implementation method described Ye et al (2022), default FALSE use modified implementation RobinCar Bannick et al (2023) improves stability.","code":""},{"path":"https://openpharma.github.io/beeca/reference/estimate_varcov.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate variance-covariance matrix for marginal estimand based on GLM model — estimate_varcov","text":"updated glm object appended additional component robust_varcov, estimated variance-covariance matrix marginal effect. matrix format estimation method indicated matrix attributes.","code":""},{"path":"https://openpharma.github.io/beeca/reference/estimate_varcov.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate variance-covariance matrix for marginal estimand based on GLM model — estimate_varcov","text":"estimate_varcov function facilitates robust variance estimation techniques GLM models, particularly useful clinical trial analysis fields requiring robust statistical inference. allows researchers account complex study designs, including stratification different treatment contrasts, providing flexible interface variance-covariance estimation. Note: Ensure glm object adequately prepared predict_counterfactuals average_predictions applying estimate_varcov(). Failure may result errors indicating missing components.","code":""},{"path":"https://openpharma.github.io/beeca/reference/estimate_varcov.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Estimate variance-covariance matrix for marginal estimand based on GLM model — estimate_varcov","text":"Ye, T., Shao, J., Yi, Y., Zhao, Q. (2023). \"Robust Variance Estimation Covariate-Adjusted Unconditional Treatment Effect Randomized Clinical Trials Binary Outcomes.\" Statistical Theory Related Fields 7(2): 159-163. https://doi.org/10.1080/24754269.2023.2205802 Ge, M., Durham, L. K., Meyer, R. D., Xie, W., Flournoy, N. (2011). \"Covariate-Adjusted Difference Proportions Clinical Trials Using Logistic Regression Weighted Risk Differences.\" Drug Information Journal 45(4): 481-493. https://doi.org/10.1177/009286151104500409 Bannick, M. S., Jun, Y., Josey, K., Weinberg, C. R., Karlson, E. W. (2023). \"General Form Covariate Adjustment Randomized Clinical Trials.\" arXiv preprint arXiv:2306.10213. https://arxiv.org/abs/2306.10213","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/estimate_varcov.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate variance-covariance matrix for marginal estimand based on GLM model — estimate_varcov","text":"","code":"# Example usage with a binary outcome GLM model trial01$trtp <- factor(trial01$trtp) fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01)  #' # Preprocess fit1 as required by estimate_varcov fit2 <- fit1 |>   predict_counterfactuals(trt = \"trtp\") |>   average_predictions() #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting.  # Estimate variance-covariance using Ge's method fit3_ge <- estimate_varcov(fit2, method = \"Ge\") print(fit3_ge$robust_varcov) #>               0             1 #> 0  1.878839e-03 -2.759138e-06 #> 1 -2.759138e-06  1.808457e-03 #> attr(,\"type\") #> [1] \"Ge - HC0\"   # Estimate variance-covariance using Ye's method with stratification fit4 <- glm(aval ~ trtp + bl_cov_c, family = \"binomial\", data = trial01) |>   predict_counterfactuals(trt = \"trtp\") |>   average_predictions() #> Warning: There are 2 records omitted from the original data due to missing values, please check if they should be imputed prior to model fitting. fit4_ye <- estimate_varcov(fit4, method = \"Ye\", strata = \"bl_cov_c\") print(fit4_ye$robust_varcov) #>               0             1 #> 0  1.890549e-03 -3.739455e-07 #> 1 -3.739455e-07  1.846667e-03 #> attr(,\"type\") #> [1] \"Ye\""},{"path":"https://openpharma.github.io/beeca/reference/format_pvalue.html","id":null,"dir":"Reference","previous_headings":"","what":"Format p-value for clinical trial tables — format_pvalue","title":"Format p-value for clinical trial tables — format_pvalue","text":"Formats p-values according common clinical trial reporting conventions. Values less 0.001 displayed \"<0.001\", otherwise rounded 3 decimal places.","code":""},{"path":"https://openpharma.github.io/beeca/reference/format_pvalue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format p-value for clinical trial tables — format_pvalue","text":"","code":"format_pvalue(p, digits = 3, small_threshold = 0.001)"},{"path":"https://openpharma.github.io/beeca/reference/format_pvalue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format p-value for clinical trial tables — format_pvalue","text":"p numeric p-value(s) format digits integer, number decimal places. Default 3. small_threshold numeric, values threshold displayed \"<threshold\". Default 0.001.","code":""},{"path":"https://openpharma.github.io/beeca/reference/format_pvalue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format p-value for clinical trial tables — format_pvalue","text":"character vector formatted p-values","code":""},{"path":"https://openpharma.github.io/beeca/reference/format_pvalue.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format p-value for clinical trial tables — format_pvalue","text":"","code":"format_pvalue(0.0001) #> [1] \"<0.001\" format_pvalue(c(0.05, 0.001, 0.0001)) #> [1] \"0.050\"  \"0.001\"  \"<0.001\""},{"path":"https://openpharma.github.io/beeca/reference/ge_macro_trial01.html","id":null,"dir":"Reference","previous_headings":"","what":"Output from the Ge et al (2011) SAS macro applied to the trial01 dataset — ge_macro_trial01","title":"Output from the Ge et al (2011) SAS macro applied to the trial01 dataset — ge_macro_trial01","text":"purposes implementation comparisons, result outputs SAS macro provided Ge et al (2011) publication (https://doi.org/10.1177/009286151104500409), applied trial01 dataset included beeca, adjusting treatment (trtp) single covariate (bl_cov) targeting risk difference contrast.","code":""},{"path":"https://openpharma.github.io/beeca/reference/ge_macro_trial01.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Output from the Ge et al (2011) SAS macro applied to the trial01 dataset — ge_macro_trial01","text":"","code":"ge_macro_trial01"},{"path":"https://openpharma.github.io/beeca/reference/ge_macro_trial01.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Output from the Ge et al (2011) SAS macro applied to the trial01 dataset — ge_macro_trial01","text":"ge_macro_trial01 tibble 1 row 6 columns: diff Marginal risk difference estimate se Standard error marginal risk difference estimate pt Marginal risk treated pC Marginal risk controls lower Lower bound 95 percent confidence interval risk difference estimate upper Upper bound 95 percent confidence interval risk difference estimate","code":""},{"path":"https://openpharma.github.io/beeca/reference/get_marginal_effect.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate marginal treatment effects using a GLM working model — get_marginal_effect","title":"Estimate marginal treatment effects using a GLM working model — get_marginal_effect","text":"Estimates marginal treatment effect logistic regression working model using specified choice variance estimator contrast.","code":""},{"path":"https://openpharma.github.io/beeca/reference/get_marginal_effect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate marginal treatment effects using a GLM working model — get_marginal_effect","text":"","code":"get_marginal_effect(   object,   trt,   strata = NULL,   method = \"Ge\",   type = \"HC0\",   contrast = \"diff\",   reference,   mod = FALSE )"},{"path":"https://openpharma.github.io/beeca/reference/get_marginal_effect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate marginal treatment effects using a GLM working model — get_marginal_effect","text":"object fitted glm object. trt string specifying name treatment variable model formula. must one linear predictor variables used fitting object. strata optional string vector strings specifying names stratification variables. Relevant Ye's method used adjust variance-covariance estimation stratification. provided, specified variable must present model. method string indicating chosen method variance estimation. Supported methods Ge Ye. default method Ge based Ge et al (2011) suitable variance estimation conditional average treatment effect. method Ye based Ye et al (2023) suitable variance estimation population average treatment effect. details, see Magirr et al. (2025) doi:10.1002/pst.70021 . type string indicating type variance estimator use (applicable Ge's method). Supported types include HC0 (default), model-based, HC3, HC, HC1, HC2, HC4, HC4m, HC5. See vcovHC heteroscedasticity-consistent estimators. contrast string indicating choice contrast. Defaults 'diff' risk difference. See apply_contrast. reference string list strings indicating treatment group(s) use reference level pairwise comparisons. Accepted values must subset levels treatment variable. Default first n-1 treatment levels used glm object. parameter influences calculation treatment effects relative chosen reference group. mod Ye's method, implementation open-source RobinCar package additional variance decomposition step estimating robust variance, utilizes different counterfactual outcomes original reference. Set mod = TRUE use exactly implementation method described Ye et al (2022), default FALSE use modified implementation RobinCar Bannick et al (2023) improves stability.","code":""},{"path":"https://openpharma.github.io/beeca/reference/get_marginal_effect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate marginal treatment effects using a GLM working model — get_marginal_effect","text":"updated glm object appended marginal estimate components: counterfactual.predictions (see predict_counterfactuals), counterfactual.means (see average_predictions), robust_varcov (see estimate_varcov), marginal_est, marginal_se (see apply_contrast) marginal_results. summary shown ","code":""},{"path":"https://openpharma.github.io/beeca/reference/get_marginal_effect.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate marginal treatment effects using a GLM working model — get_marginal_effect","text":"get_marginal_effect function wrapper facilitates advanced variance estimation techniques GLM models covariate adjustment targeting population average treatment effect. particularly useful clinical trial analysis fields requiring robust statistical inference. allows researchers account complex study designs, including stratification treatment contrasts, providing flexible interface variance-covariance estimation.","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/get_marginal_effect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate marginal treatment effects using a GLM working model — get_marginal_effect","text":"","code":"trial01$trtp <- factor(trial01$trtp) fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01) |>   get_marginal_effect(trt = \"trtp\", method = \"Ye\", contrast = \"diff\", reference = \"0\") #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting. fit1$marginal_results #> # A tibble: 12 × 8 #>    TRTVAR TRTVAL    PARAM ANALTYP1    STAT     STATVAL ANALMETH      ANALDESC    #>    <chr>  <chr>     <chr> <chr>       <chr>      <dbl> <chr>         <chr>       #>  1 trtp   0         aval  DESCRIPTIVE N       133      count         Computed u… #>  2 trtp   0         aval  DESCRIPTIVE n        65      count         Computed u… #>  3 trtp   0         aval  DESCRIPTIVE %        48.9    percentage    Computed u… #>  4 trtp   0         aval  INFERENTIAL risk      0.487  g-computation Computed u… #>  5 trtp   0         aval  INFERENTIAL risk_se   0.0435 Ye            Computed u… #>  6 trtp   1         aval  DESCRIPTIVE N       134      count         Computed u… #>  7 trtp   1         aval  DESCRIPTIVE n        56      count         Computed u… #>  8 trtp   1         aval  DESCRIPTIVE %        41.8    percentage    Computed u… #>  9 trtp   1         aval  INFERENTIAL risk      0.419  g-computation Computed u… #> 10 trtp   1         aval  INFERENTIAL risk_se   0.0427 Ye            Computed u… #> 11 trtp   diff: 1-0 aval  INFERENTIAL diff     -0.0684 g-computation Computed u… #> 12 trtp   diff: 1-0 aval  INFERENTIAL diff_se   0.0609 Ye            Computed u…"},{"path":"https://openpharma.github.io/beeca/reference/margins_trial01.html","id":null,"dir":"Reference","previous_headings":"","what":"Output from the Margins SAS macro applied to the trial01 dataset — margins_trial01","title":"Output from the Margins SAS macro applied to the trial01 dataset — margins_trial01","text":"purposes implementation comparisons, result outputs SAS Margins macro (https://support.sas.com/kb/63/038.html), applied trial01 dataset included beeca, adjusting treatment (trtp) single covariate (bl_cov) targeting risk difference contrast.","code":""},{"path":"https://openpharma.github.io/beeca/reference/margins_trial01.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Output from the Margins SAS macro applied to the trial01 dataset — margins_trial01","text":"","code":"margins_trial01"},{"path":"https://openpharma.github.io/beeca/reference/margins_trial01.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Output from the Margins SAS macro applied to the trial01 dataset — margins_trial01","text":"margins_trial01 tibble 1 row 11 columns: Estimate Marginal risk difference estimate ChiSq Wald Chi-Square statistic Row Row number StdErr Standard error marginal risk difference estimate Lower Lower bound 95 percent confidence interval estimate Upper Upper bound 95 percent confidence interval estimate Contrast Descriptive label contrast df Degrees freedom Pr p-value Alpha Significance level alpha label Label contrast","code":""},{"path":"https://openpharma.github.io/beeca/reference/plot.beeca.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot method for beeca objects — plot.beeca","title":"Plot method for beeca objects — plot.beeca","text":"Creates visualizations beeca analysis results. Currently supports forest plots showing treatment effect estimates confidence intervals. Additional plot types added future versions.","code":""},{"path":"https://openpharma.github.io/beeca/reference/plot.beeca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot method for beeca objects — plot.beeca","text":"","code":"# S3 method for class 'beeca' plot(x, type = c(\"forest\"), ...)"},{"path":"https://openpharma.github.io/beeca/reference/plot.beeca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot method for beeca objects — plot.beeca","text":"x beeca object (get_marginal_effect) type character string specifying plot type. Currently \"forest\" supported. ... additional arguments passed specific plot function","code":""},{"path":"https://openpharma.github.io/beeca/reference/plot.beeca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot method for beeca objects — plot.beeca","text":"ggplot object","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/plot.beeca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot method for beeca objects — plot.beeca","text":"","code":"if (requireNamespace(\"ggplot2\", quietly = TRUE)) {   trial01$trtp <- factor(trial01$trtp)   fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01) |>     get_marginal_effect(trt = \"trtp\", method = \"Ye\", contrast = \"diff\", reference = \"0\")    # Forest plot (default)   plot(fit1)    # Explicit type specification   plot(fit1, type = \"forest\")    # Customize   plot(fit1, conf.level = 0.90, title = \"My Treatment Effect\") } #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting."},{"path":"https://openpharma.github.io/beeca/reference/plot_forest.html","id":null,"dir":"Reference","previous_headings":"","what":"Forest plot for marginal treatment effects — plot_forest","title":"Forest plot for marginal treatment effects — plot_forest","text":"Creates forest plot displaying treatment effect estimates confidence intervals. Useful visualizing results covariate-adjusted analyses, especially multiple treatment comparisons.","code":""},{"path":"https://openpharma.github.io/beeca/reference/plot_forest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forest plot for marginal treatment effects — plot_forest","text":"","code":"plot_forest(   x,   conf.level = 0.95,   title = NULL,   xlab = NULL,   show_values = TRUE,   null_line_color = \"darkgray\",   point_size = 3,   ... )"},{"path":"https://openpharma.github.io/beeca/reference/plot_forest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forest plot for marginal treatment effects — plot_forest","text":"x beeca object (get_marginal_effect) conf.level confidence level confidence intervals. Default 0.95. title optional plot title. NULL, default title generated. xlab optional x-axis label. NULL, label based contrast type generated. show_values logical indicating whether display numerical values plot. Default TRUE. null_line_color color null effect reference line. Default \"darkgray\". point_size size point estimates. Default 3. ... additional arguments (currently used)","code":""},{"path":"https://openpharma.github.io/beeca/reference/plot_forest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forest plot for marginal treatment effects — plot_forest","text":"ggplot object","code":""},{"path":"https://openpharma.github.io/beeca/reference/plot_forest.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Forest plot for marginal treatment effects — plot_forest","text":"forest plot displays point estimates dots horizontal lines representing confidence intervals. vertical reference line drawn null effect value (0 differences, 1 ratios). multiple comparisons (e.g., 3-arm trials), comparison shown separate row. plot can customized using standard ggplot2 functions adding layers returned ggplot object.","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/plot_forest.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Forest plot for marginal treatment effects — plot_forest","text":"","code":"if (requireNamespace(\"ggplot2\", quietly = TRUE)) {   trial01$trtp <- factor(trial01$trtp)   fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01) |>     get_marginal_effect(trt = \"trtp\", method = \"Ye\", contrast = \"diff\", reference = \"0\")    # Basic forest plot   plot_forest(fit1)    # Customize with ggplot2   plot_forest(fit1) +     ggplot2::theme_minimal() +     ggplot2::labs(title = \"Treatment Effect: My Study\")    # Risk ratio example   fit_rr <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01) |>     get_marginal_effect(trt = \"trtp\", method = \"Ye\", contrast = \"rr\", reference = \"0\")   plot_forest(fit_rr) } #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting. #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting."},{"path":"https://openpharma.github.io/beeca/reference/predict_counterfactuals.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict counterfactual outcomes in GLM models — predict_counterfactuals","title":"Predict counterfactual outcomes in GLM models — predict_counterfactuals","text":"function calculates counterfactual predictions level specified treatment variable generalized linear model (GLM). designed aid assessment treatment effects predicting outcomes different treatments causal inference framework.","code":""},{"path":"https://openpharma.github.io/beeca/reference/predict_counterfactuals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict counterfactual outcomes in GLM models — predict_counterfactuals","text":"","code":"predict_counterfactuals(object, trt)"},{"path":"https://openpharma.github.io/beeca/reference/predict_counterfactuals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict counterfactual outcomes in GLM models — predict_counterfactuals","text":"object fitted glm object counterfactual predictions desired. trt string specifying name treatment variable model formula. must one linear predictor variables used fitting object.","code":""},{"path":"https://openpharma.github.io/beeca/reference/predict_counterfactuals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Predict counterfactual outcomes in GLM models — predict_counterfactuals","text":"updated glm object appended additional component counterfactual.predictions. component contains tibble columns representing counterfactual predictions level treatment variable. descriptive label attribute explains counterfactual scenario associated column.","code":""},{"path":"https://openpharma.github.io/beeca/reference/predict_counterfactuals.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Predict counterfactual outcomes in GLM models — predict_counterfactuals","text":"function works creating new datasets original data used fit GLM model. datasets, treatment variable records (e.g., patients) set possible treatment level. Predictions made dataset based fitted GLM model, simulating response variable treatment condition. results stored tidy format appended original model object analysis inspection. averaging counterfactual outcomes, apply average_predictions().","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/predict_counterfactuals.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Predict counterfactual outcomes in GLM models — predict_counterfactuals","text":"","code":"# Preparing data and fitting a GLM model trial01$trtp <- factor(trial01$trtp) fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01)  # Generating counterfactual predictions fit2 <- predict_counterfactuals(fit1, \"trtp\") #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting.  # Accessing the counterfactual predictions fit2$counterfactual.predictions #> # A tibble: 267 × 2 #>      `0`   `1` #>    <dbl> <dbl> #>  1 0.533 0.463 #>  2 0.537 0.468 #>  3 0.481 0.413 #>  4 0.510 0.441 #>  5 0.428 0.362 #>  6 0.474 0.406 #>  7 0.490 0.421 #>  8 0.496 0.427 #>  9 0.514 0.445 #> 10 0.490 0.422 #> # ℹ 257 more rows attributes(fit2$counterfactual.predictions) #> $class #> [1] \"tbl_df\"     \"tbl\"        \"data.frame\" #>  #> $row.names #>   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18 #>  [19]  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36 #>  [37]  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54 #>  [55]  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72 #>  [73]  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90 #>  [91]  91  92  93  94  95  96  97  98  99 100 101 102 103 104 105 106 107 108 #> [109] 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 #> [127] 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 #> [145] 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 #> [163] 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 #> [181] 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 #> [199] 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 #> [217] 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 #> [235] 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 #> [253] 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 #>  #> $names #> [1] \"0\" \"1\" #>  #> $label #>                                                           0  #> \"Counterfactual predictions setting trtp=0 for all records\"  #>                                                           1  #> \"Counterfactual predictions setting trtp=1 for all records\"  #>  #> $treatment.variable #> [1] \"trtp\" #>"},{"path":"https://openpharma.github.io/beeca/reference/print.beeca.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for beeca objects — print.beeca","title":"Print method for beeca objects — print.beeca","text":"Provides concise summary beeca analysis, showing treatment effect estimate, standard error, p-value. detailed output, use summary().","code":""},{"path":"https://openpharma.github.io/beeca/reference/print.beeca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for beeca objects — print.beeca","text":"","code":"# S3 method for class 'beeca' print(x, digits = 4, ...)"},{"path":"https://openpharma.github.io/beeca/reference/print.beeca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for beeca objects — print.beeca","text":"x beeca object (get_marginal_effect) digits integer, number decimal places rounding. Default 4. ... additional arguments (currently used)","code":""},{"path":"https://openpharma.github.io/beeca/reference/print.beeca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for beeca objects — print.beeca","text":"Invisibly returns input object","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/print.beeca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print method for beeca objects — print.beeca","text":"","code":"trial01$trtp <- factor(trial01$trtp) fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01) |>   get_marginal_effect(trt = \"trtp\", method = \"Ye\", contrast = \"diff\", reference = \"0\") #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting.  # Concise output print(fit1) #> beeca: Covariate-Adjusted Marginal Treatment Effect #> ======================================================= #>  #> Contrast:  diff: 1-0 #> Estimate:  -0.0684 (SE = 0.0609) #> Z-value:   -1.1229 #> P-value:   0.2615 #>  #> Use summary() for detailed results #> Use tidy() for broom-compatible output #> Use plot() for visualizations  # More detail summary(fit1) #>  #> Covariate-Adjusted Marginal Treatment Effect Analysis #> ============================================================ #>  #> Model Information: #> ------------------------------------------------------------ #>   Working model:      Logistic regression with covariate adjustment #>   Variance estimator: Ye #>   Contrast type:      diff #>   Sample size:        267 #>   Outcome variable:   aval #>  #> Marginal Risks (g-computation): #> ------------------------------------------------------------ #>  Treatment Risk   SE     95% CI           #>  0         0.4875 0.0435 (0.4022, 0.5728) #>  1         0.4191 0.0427 (0.3354, 0.5028) #>  #> Treatment Effect Estimates: #> ------------------------------------------------------------ #>  Comparison Estimate SE     Z value 95% CI            P value #>  diff: 1-0  -0.0684  0.0609 -1.1232 (-0.1878, 0.0510) 0.26    #>  #> ------------------------------------------------------------ #> Note: Standard errors and tests based on robust variance estimation #> Use tidy() for data frame output or plot() for visualizations"},{"path":"https://openpharma.github.io/beeca/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. generics augment, tidy","code":""},{"path":"https://openpharma.github.io/beeca/reference/sanitize_model.glm.html","id":null,"dir":"Reference","previous_headings":"","what":"(internal) Sanitize a glm model — sanitize_model.glm","title":"(internal) Sanitize a glm model — sanitize_model.glm","text":"(internal) Sanitize glm model","code":""},{"path":"https://openpharma.github.io/beeca/reference/sanitize_model.glm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(internal) Sanitize a glm model — sanitize_model.glm","text":"","code":"# S3 method for class 'glm' sanitize_model(model, trt, ...)"},{"path":"https://openpharma.github.io/beeca/reference/sanitize_model.glm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(internal) Sanitize a glm model — sanitize_model.glm","text":"model glm binomial family canonical link. trt name treatment variable right-hand side formula glm. ... ignored.","code":""},{"path":"https://openpharma.github.io/beeca/reference/sanitize_model.glm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"(internal) Sanitize a glm model — sanitize_model.glm","text":"model non-compliant throw warnings errors.","code":""},{"path":"https://openpharma.github.io/beeca/reference/sanitize_model.glm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"(internal) Sanitize a glm model — sanitize_model.glm","text":"","code":"trial01$trtp <- factor(trial01$trtp) fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01) fit1 <- sanitize_model(fit1, \"trtp\") #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting."},{"path":"https://openpharma.github.io/beeca/reference/sanitize_model.html","id":null,"dir":"Reference","previous_headings":"","what":"(internal) Sanitize functions to check model and data within GLM model object — sanitize_model","title":"(internal) Sanitize functions to check model and data within GLM model object — sanitize_model","text":"Performs checks GLM model object ensure meets specific criteria required analysis using functions beeca package. includes verifying model's family, link function, data completeness mode convergence. Currently supports models binomial family canonical logit link.","code":""},{"path":"https://openpharma.github.io/beeca/reference/sanitize_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(internal) Sanitize functions to check model and data within GLM model object — sanitize_model","text":"","code":"sanitize_model(model, ...)"},{"path":"https://openpharma.github.io/beeca/reference/sanitize_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(internal) Sanitize functions to check model and data within GLM model object — sanitize_model","text":"model model object, currently glm binomial family canonical link supported. ... arguments passed methods.","code":""},{"path":"https://openpharma.github.io/beeca/reference/sanitize_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"(internal) Sanitize functions to check model and data within GLM model object — sanitize_model","text":"model non-compliant throw warnings errors.","code":""},{"path":"https://openpharma.github.io/beeca/reference/sanitize_variable.html","id":null,"dir":"Reference","previous_headings":"","what":"(internal) Sanitize function to check model and data — sanitize_variable","title":"(internal) Sanitize function to check model and data — sanitize_variable","text":"(internal) Sanitize function check model data","code":""},{"path":"https://openpharma.github.io/beeca/reference/sanitize_variable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(internal) Sanitize function to check model and data — sanitize_variable","text":"","code":"sanitize_variable(model, trt)"},{"path":"https://openpharma.github.io/beeca/reference/sanitize_variable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(internal) Sanitize function to check model and data — sanitize_variable","text":"model glm model object. trt name treatment variable right-hand side glm formula.","code":""},{"path":"https://openpharma.github.io/beeca/reference/sanitize_variable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"(internal) Sanitize function to check model and data — sanitize_variable","text":"model variable non-compliant, throw warnings error.","code":""},{"path":"https://openpharma.github.io/beeca/reference/summary.beeca.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary method for beeca objects — summary.beeca","title":"Summary method for beeca objects — summary.beeca","text":"Provides comprehensive summary beeca analysis, including marginal risks treatment arm, treatment effect estimates confidence intervals, key model information.","code":""},{"path":"https://openpharma.github.io/beeca/reference/summary.beeca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary method for beeca objects — summary.beeca","text":"","code":"# S3 method for class 'beeca' summary(object, conf.level = 0.95, digits = 4, ...)"},{"path":"https://openpharma.github.io/beeca/reference/summary.beeca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary method for beeca objects — summary.beeca","text":"object beeca object (get_marginal_effect) conf.level confidence level confidence intervals. Default 0.95. digits integer, number decimal places rounding. Default 4. ... additional arguments (currently used)","code":""},{"path":"https://openpharma.github.io/beeca/reference/summary.beeca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary method for beeca objects — summary.beeca","text":"Invisibly returns input object","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/summary.beeca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summary method for beeca objects — summary.beeca","text":"","code":"trial01$trtp <- factor(trial01$trtp) fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01) |>   get_marginal_effect(trt = \"trtp\", method = \"Ye\", contrast = \"diff\", reference = \"0\") #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting.  # Detailed summary summary(fit1) #>  #> Covariate-Adjusted Marginal Treatment Effect Analysis #> ============================================================ #>  #> Model Information: #> ------------------------------------------------------------ #>   Working model:      Logistic regression with covariate adjustment #>   Variance estimator: Ye #>   Contrast type:      diff #>   Sample size:        267 #>   Outcome variable:   aval #>  #> Marginal Risks (g-computation): #> ------------------------------------------------------------ #>  Treatment Risk   SE     95% CI           #>  0         0.4875 0.0435 (0.4022, 0.5728) #>  1         0.4191 0.0427 (0.3354, 0.5028) #>  #> Treatment Effect Estimates: #> ------------------------------------------------------------ #>  Comparison Estimate SE     Z value 95% CI            P value #>  diff: 1-0  -0.0684  0.0609 -1.1232 (-0.1878, 0.0510) 0.26    #>  #> ------------------------------------------------------------ #> Note: Standard errors and tests based on robust variance estimation #> Use tidy() for data frame output or plot() for visualizations  # With 90% confidence intervals summary(fit1, conf.level = 0.90) #>  #> Covariate-Adjusted Marginal Treatment Effect Analysis #> ============================================================ #>  #> Model Information: #> ------------------------------------------------------------ #>   Working model:      Logistic regression with covariate adjustment #>   Variance estimator: Ye #>   Contrast type:      diff #>   Sample size:        267 #>   Outcome variable:   aval #>  #> Marginal Risks (g-computation): #> ------------------------------------------------------------ #>  Treatment Risk   SE     90% CI           #>  0         0.4875 0.0435 (0.4159, 0.5591) #>  1         0.4191 0.0427 (0.3489, 0.4893) #>  #> Treatment Effect Estimates: #> ------------------------------------------------------------ #>  Comparison Estimate SE     Z value 90% CI            P value #>  diff: 1-0  -0.0684  0.0609 -1.1232 (-0.1686, 0.0318) 0.26    #>  #> ------------------------------------------------------------ #> Note: Standard errors and tests based on robust variance estimation #> Use tidy() for data frame output or plot() for visualizations"},{"path":"https://openpharma.github.io/beeca/reference/tidy.beeca.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy method for beeca objects — tidy.beeca","title":"Tidy method for beeca objects — tidy.beeca","text":"Extracts tidies marginal treatment effect estimates beeca object. function provides broom-compatible interface extracting specific statistics Analysis Results Data (ARD) structure.","code":""},{"path":"https://openpharma.github.io/beeca/reference/tidy.beeca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy method for beeca objects — tidy.beeca","text":"","code":"# S3 method for class 'beeca' tidy(x, conf.int = FALSE, conf.level = 0.95, include_marginal = FALSE, ...)"},{"path":"https://openpharma.github.io/beeca/reference/tidy.beeca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy method for beeca objects — tidy.beeca","text":"x beeca object (glm object modified get_marginal_effect) conf.int logical indicating whether include confidence intervals. Defaults FALSE. conf.level confidence level intervals. Defaults 0.95. include_marginal logical indicating whether include marginal risk estimates treatment arm addition contrasts. Defaults FALSE. ... additional arguments (currently used)","code":""},{"path":"https://openpharma.github.io/beeca/reference/tidy.beeca.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy method for beeca objects — tidy.beeca","text":"tibble columns:","code":""},{"path":"https://openpharma.github.io/beeca/reference/tidy.beeca.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Tidy method for beeca objects — tidy.beeca","text":"tidy.beeca() method extracts key inferential statistics marginal_results component beeca object. default, returns contrast estimates (treatment effects) standard errors, test statistics, p-values. Optionally, can also include marginal risk estimates treatment arm. function computes Wald test statistics (estimate / std.error) corresponding two-sided p-values estimate.","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/reference/tidy.beeca.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy method for beeca objects — tidy.beeca","text":"","code":"trial01$trtp <- factor(trial01$trtp) fit1 <- glm(aval ~ trtp + bl_cov, family = \"binomial\", data = trial01) |>   get_marginal_effect(trt = \"trtp\", method = \"Ye\", contrast = \"diff\", reference = \"0\") #> Warning: There is 1 record omitted from the original data due to missing values, please check if they should be imputed prior to model fitting.  # Tidy the contrast results tidy(fit1) #> # A tibble: 1 × 5 #>   term      estimate std.error statistic p.value #>   <chr>        <dbl>     <dbl>     <dbl>   <dbl> #> 1 diff: 1-0  -0.0684    0.0609     -1.12   0.261  # Include confidence intervals tidy(fit1, conf.int = TRUE) #> # A tibble: 1 × 7 #>   term      estimate std.error statistic p.value conf.low conf.high #>   <chr>        <dbl>     <dbl>     <dbl>   <dbl>    <dbl>     <dbl> #> 1 diff: 1-0  -0.0684    0.0609     -1.12   0.261   -0.188    0.0510  # Include marginal risk estimates for each arm tidy(fit1, include_marginal = TRUE, conf.int = TRUE) #> # A tibble: 3 × 7 #>   term      estimate std.error statistic  p.value conf.low conf.high #>   <chr>        <dbl>     <dbl>     <dbl>    <dbl>    <dbl>     <dbl> #> 1 risk_0      0.487     0.0435     11.2  3.84e-29    0.402    0.573  #> 2 risk_1      0.419     0.0427      9.82 9.39e-23    0.335    0.503  #> 3 diff: 1-0  -0.0684    0.0609     -1.12 2.61e- 1   -0.188    0.0510"},{"path":"https://openpharma.github.io/beeca/reference/trial01.html","id":null,"dir":"Reference","previous_headings":"","what":"Example trial dataset 01 — trial01","title":"Example trial dataset 01 — trial01","text":"simplified example simulated trial dataset, missing data.","code":""},{"path":"https://openpharma.github.io/beeca/reference/trial01.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example trial dataset 01 — trial01","text":"","code":"trial01"},{"path":"https://openpharma.github.io/beeca/reference/trial01.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example trial dataset 01 — trial01","text":"trial01 data frame 268 rows 9 columns: usubjid Unique subject identifier aval Primary outcome variable (1 = yes/0 = ) trtp Planned treatment bl_cov Baseline covariate (numeric) bl_cov_c Dichotomized version bl_cov (category 1 0) region_2, ..., region_5 Indicators region (1 = yes/0 = )","code":""},{"path":"https://openpharma.github.io/beeca/reference/trial02_cdisc.html","id":null,"dir":"Reference","previous_headings":"","what":"Example CDISC Clinical Trial Dataset in ADaM Format — trial02_cdisc","title":"Example CDISC Clinical Trial Dataset in ADaM Format — trial02_cdisc","text":"dataset simplified, binary outcome version sample Phase 2 clinical trial dataset formatted according Analysis Data Model (ADaM) standards set Clinical Data Interchange Standards Consortium (CDISC). designed training educational purposes, showcasing clinical trial data can structured statistical analysis.","code":""},{"path":"https://openpharma.github.io/beeca/reference/trial02_cdisc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example CDISC Clinical Trial Dataset in ADaM Format — trial02_cdisc","text":"","code":"trial02_cdisc"},{"path":"https://openpharma.github.io/beeca/reference/trial02_cdisc.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example CDISC Clinical Trial Dataset in ADaM Format — trial02_cdisc","text":"data frame 254 rows 13 columns, representing trial participants key variables: USUBJID Unique subject identifier (alphanumeric code). code unique clinical trial PARAM Parameter name indicating specific measurement outcome assessed. AGE Age participant study enrollment, years. AGEGR1 Categorical representation age groups. AGEGR1N Numeric code representing age groups, used statistical modeling. RACE Self-identified race participant RACEN Numeric representation race categories, used statistical modeling. SEX Participant's sex birth. TRTP Planned treatment assignment, indicating specific intervention control condition. TRTPN Numeric code planned treatment, simplifying data analysis procedures. AVAL Analysis value, representing primary outcome measure participant. AVALC Character representation analysis value, used descriptive summaries. FASFL Full analysis set flag, indicating participant's data included full analysis set.","code":""},{"path":"https://openpharma.github.io/beeca/reference/trial02_cdisc.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example CDISC Clinical Trial Dataset in ADaM Format — trial02_cdisc","text":"dataset reformatted educational use safetyData package, specifically adam_adtte. original data detailed information, please refer safetyData documentation.","code":""},{"path":"https://openpharma.github.io/beeca/reference/trial02_cdisc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Example CDISC Clinical Trial Dataset in ADaM Format — trial02_cdisc","text":"dataset serves illustrative example learning ADaM standard clinical trials. includes common variables like demographic information, treatment assignments, outcome measures. Data privacy ethical considerations addressed anonymization subject identifiers sensitive information. dataset intended educational training purposes .","code":""},{"path":"https://openpharma.github.io/beeca/reference/trial02_cdisc.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Example CDISC Clinical Trial Dataset in ADaM Format — trial02_cdisc","text":"numeric codes categorical variables RACEN TRTPN arbitrary interpreted within context dataset. example, refer categorical representations additional context.","code":""},{"path":[]},{"path":"https://openpharma.github.io/beeca/news/index.html","id":"new-features-0-3-0","dir":"Changelog","previous_headings":"","what":"New Features","title":"beeca 0.3.0","text":"beeca_fit(): Convenience function combining model fitting marginal effect estimation single call. plot_forest(): Forest plots visualizing treatment effects customizable confidence levels styling. plot.beeca(): S3 plot method beeca objects. beeca_summary_table(): Generate summary tables beeca objects returning data frame arm statistics treatment effects. beeca_to_cards_ard(): Convert beeca results Analysis Results Data format via cards. tidy.beeca(): Tidy method returning treatment effect estimates tibble. augment.beeca(): Augment method returning original data fitted values predictions. print.beeca(): Concise print output showing treatment effect, standard error, Z-value, p-value. summary.beeca(): Comprehensive summary including marginal risks treatment effects confidence intervals. as_gt.beeca(): Create publication-ready gt tables beeca objects customizable titles footnotes. trial02_cdisc: CDISC-compliant example dataset clinical trial workflows.","code":""},{"path":"https://openpharma.github.io/beeca/news/index.html","id":"improvements-0-3-0","dir":"Changelog","previous_headings":"","what":"Improvements","title":"beeca 0.3.0","text":"Updated Magirr et al. reference OSF preprint published version Pharmaceutical Statistics (2025). Added rlang generics package Imports robust non-standard evaluation S3 method support. Added Suggests dependencies enhanced visualization (ggplot2) table formatting (gt, cards). Enhanced vignettes improved narrative flow, cross-referencing, method guidance.","code":""},{"path":"https://openpharma.github.io/beeca/news/index.html","id":"bug-fixes-0-3-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"beeca 0.3.0","text":"Fixed function name conflict plot_forest() base R’s diff() called incorrectly. Replaced deprecated geom_errorbarh() geom_errorbar(orientation = \"y\") plot_forest() ggplot2 4.0.0 compatibility.","code":""},{"path":"https://openpharma.github.io/beeca/news/index.html","id":"beeca-020","dir":"Changelog","previous_headings":"","what":"beeca 0.2.0","title":"beeca 0.2.0","text":"CRAN release: 2024-11-12 Extensions allow two treatment arms model fit.","code":""},{"path":"https://openpharma.github.io/beeca/news/index.html","id":"beeca-013","dir":"Changelog","previous_headings":"","what":"beeca 0.1.3","title":"beeca 0.1.3","text":"CRAN release: 2024-06-18 Preparation CRAN submission","code":""},{"path":"https://openpharma.github.io/beeca/news/index.html","id":"beeca-010","dir":"Changelog","previous_headings":"","what":"beeca 0.1.0","title":"beeca 0.1.0","text":"Added NEWS.md file track changes package. Added documentation via pkgdown.","code":""}]
