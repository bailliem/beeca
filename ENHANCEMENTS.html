<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>beeca Package - Potential Enhancements â€¢ beeca</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="beeca Package - Potential Enhancements"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">beeca</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/estimand_and_implementations.html">Introduction to estimating a marginal estimand with beeca</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Applications</h6></li>
    <li><a class="dropdown-item" href="articles/clinical-trial-table.html">Creating Clinical Trial Tables with beeca</a></li>
    <li><a class="dropdown-item" href="articles/ard-cards-integration.html">Integration with cards/cardx ARD Framework</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/openpharma/beeca/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>beeca Package - Potential Enhancements</h1>
      <small class="dont-index">Source: <a href="https://github.com/openpharma/beeca/blob/main/ENHANCEMENTS.md" class="external-link"><code>ENHANCEMENTS.md</code></a></small>
    </div>

<div id="beeca-package---potential-enhancements" class="section level1">

<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a></h2>
<p>This document brainstorms potential enhancements to the beeca package based on the current implementation and user needs. Enhancements are categorized by theme and priority.</p>
<hr></div>
<div class="section level2">
<h2 id="id_1-statistical-methods--variance-estimation">1. Statistical Methods &amp; Variance Estimation<a class="anchor" aria-label="anchor" href="#id_1-statistical-methods--variance-estimation"></a></h2>
<div class="section level3">
<h3 id="id_11-additional-variance-estimators">1.1 Additional Variance Estimators<a class="anchor" aria-label="anchor" href="#id_11-additional-variance-estimators"></a></h3>
<p><strong>Priority:</strong> Medium-High <strong>Description:</strong> Extend variance estimation options beyond Ge and Ye methods.</p>
<p><strong>Potential additions:</strong> - <strong>Bootstrap methods</strong> (parametric, non-parametric, wild bootstrap) - Pro: Model-agnostic, handles complex designs - Con: Computationally intensive, requires careful implementation - Use case: When asymptotic assumptions questionable</p>
<ul><li>
<strong>Jackknife variance estimation</strong>
<ul><li>Pro: Simple, robust</li>
<li>Con: Can be conservative</li>
<li>Use case: Small to moderate sample sizes</li>
</ul></li>
<li>
<strong>Permutation-based inference</strong>
<ul><li>Pro: Exact inference under randomization</li>
<li>Con: Limited to certain designs</li>
<li>Use case: Stratified randomization with small strata</li>
</ul></li>
</ul><p><strong>Implementation approach:</strong></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_marginal_effect.html">get_marginal_effect</a></span><span class="op">(</span><span class="va">...</span>, method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Ge"</span>, <span class="st">"Ye"</span>, <span class="st">"bootstrap"</span>, <span class="st">"jackknife"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_12-finite-sample-corrections">1.2 Finite Sample Corrections<a class="anchor" aria-label="anchor" href="#id_12-finite-sample-corrections"></a></h3>
<p><strong>Priority:</strong> Medium <strong>Description:</strong> Add small-sample corrections for variance estimators.</p>
<p><strong>Options:</strong> - Kenward-Roger style corrections - Satterthwaite degrees of freedom adjustments - Bias-corrected sandwich estimators (HC4m, HC5)</p>
<p><strong>Rationale:</strong> Current methods rely on asymptotic theory; small trials need better coverage.</p>
</div>
<div class="section level3">
<h3 id="id_13-heteroskedasticity-robust-tests">1.3 Heteroskedasticity-Robust Tests<a class="anchor" aria-label="anchor" href="#id_13-heteroskedasticity-robust-tests"></a></h3>
<p><strong>Priority:</strong> Low-Medium <strong>Description:</strong> Add hypothesis testing functions with robust variance.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">test_marginal_effect</span><span class="op">(</span><span class="va">fit</span>,</span>
<span>                     null_value <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                     alternative <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"two.sided"</span>, <span class="st">"greater"</span>, <span class="st">"less"</span><span class="op">)</span>,</span>
<span>                     method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"wald"</span>, <span class="st">"score"</span>, <span class="st">"likelihood"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<hr></div>
</div>
<div class="section level2">
<h2 id="id_2-model-extensions">2. Model Extensions<a class="anchor" aria-label="anchor" href="#id_2-model-extensions"></a></h2>
<div class="section level3">
<h3 id="id_21-multiple-outcome-support">2.1 Multiple Outcome Support<a class="anchor" aria-label="anchor" href="#id_21-multiple-outcome-support"></a></h3>
<p><strong>Priority:</strong> High <strong>Description:</strong> Handle multiple endpoints in a single analysis.</p>
<p><strong>Use cases:</strong> - Primary + secondary endpoints - Multiple timepoints - Composite endpoints</p>
<p><strong>Implementation:</strong></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Multiple separate outcomes</span></span>
<span><span class="va">fit_multi</span> <span class="op">&lt;-</span> <span class="fu">glm_list</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">aval1</span> <span class="op">~</span> <span class="va">trtp</span> <span class="op">+</span> <span class="va">bl_cov1</span>,</span>
<span>       <span class="va">aval2</span> <span class="op">~</span> <span class="va">trtp</span> <span class="op">+</span> <span class="va">bl_cov2</span><span class="op">)</span>,</span>
<span>  family <span class="op">=</span> <span class="st">"binomial"</span>,</span>
<span>  data <span class="op">=</span> <span class="va">trial01</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">get_marginal_effect_multi</span><span class="op">(</span>trt <span class="op">=</span> <span class="st">"trtp"</span>, adjust_multiplicity <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Joint testing</span></span>
<span><span class="fu">joint_test</span><span class="op">(</span><span class="va">fit_multi</span>, method <span class="op">=</span> <span class="st">"bonferroni"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_22-time-to-event-extension">2.2 Time-to-Event Extension<a class="anchor" aria-label="anchor" href="#id_22-time-to-event-extension"></a></h3>
<p><strong>Priority:</strong> Medium <strong>Description:</strong> Extend to survival outcomes with covariate adjustment.</p>
<p><strong>Approaches:</strong> - Cox model with g-computation for marginal hazard ratios - Restricted mean survival time (RMST) differences - Pseudo-observation methods</p>
<p><strong>Note:</strong> May warrant separate package (e.g., <code>beeca.survival</code>)</p>
</div>
<div class="section level3">
<h3 id="id_23-continuous-outcome-support">2.3 Continuous Outcome Support<a class="anchor" aria-label="anchor" href="#id_23-continuous-outcome-support"></a></h3>
<p><strong>Priority:</strong> Medium-High <strong>Description:</strong> Extend beyond binary to continuous outcomes.</p>
<p><strong>Methods:</strong> - Linear regression working models - Robust variance for mean differences - Variance estimation for non-normal outcomes</p>
<p><strong>Implementation:</strong></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit_cont</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">aval_cont</span> <span class="op">~</span> <span class="va">trtp</span> <span class="op">+</span> <span class="va">bl_cov</span>, family <span class="op">=</span> <span class="va">gaussian</span>, data <span class="op">=</span> <span class="va">trial01</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/get_marginal_effect.html">get_marginal_effect</a></span><span class="op">(</span>trt <span class="op">=</span> <span class="st">"trtp"</span>, method <span class="op">=</span> <span class="st">"HC3"</span>, contrast <span class="op">=</span> <span class="st">"diff"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_24-ordinal-outcome-support">2.4 Ordinal Outcome Support<a class="anchor" aria-label="anchor" href="#id_24-ordinal-outcome-support"></a></h3>
<p><strong>Priority:</strong> Low-Medium <strong>Description:</strong> Handle ordered categorical outcomes.</p>
<p><strong>Methods:</strong> - Proportional odds models - Win ratio / Mann-Whitney estimands - Marginal cumulative probabilities</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="id_3-design--analysis-features">3. Design &amp; Analysis Features<a class="anchor" aria-label="anchor" href="#id_3-design--analysis-features"></a></h2>
<div class="section level3">
<h3 id="id_31-subgroup-analysis-framework">3.1 Subgroup Analysis Framework<a class="anchor" aria-label="anchor" href="#id_31-subgroup-analysis-framework"></a></h3>
<p><strong>Priority:</strong> High <strong>Description:</strong> Structured approach to subgroup and interaction analysis.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Subgroup-specific treatment effects</span></span>
<span><span class="va">fit_subgroup</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_marginal_effect.html">get_marginal_effect</a></span><span class="op">(</span></span>
<span>  <span class="va">fit</span>, trt <span class="op">=</span> <span class="st">"trtp"</span>,</span>
<span>  subgroups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age_group"</span>, <span class="st">"baseline_severity"</span><span class="op">)</span>,</span>
<span>  interaction_test <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Forest plot friendly output</span></span>
<span><span class="fu">forest_data</span><span class="op">(</span><span class="va">fit_subgroup</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_32-non-inferiority--equivalence-testing">3.2 Non-Inferiority &amp; Equivalence Testing<a class="anchor" aria-label="anchor" href="#id_32-non-inferiority--equivalence-testing"></a></h3>
<p><strong>Priority:</strong> Medium-High <strong>Description:</strong> Dedicated functions for non-inferiority/equivalence.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">test_noninferiority</span><span class="op">(</span><span class="va">fit</span>,</span>
<span>                    margin <span class="op">=</span> <span class="op">-</span><span class="fl">0.10</span>,  <span class="co"># Non-inferiority margin</span></span>
<span>                    alpha <span class="op">=</span> <span class="fl">0.025</span>,</span>
<span>                    method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"risk_difference"</span>, <span class="st">"risk_ratio"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">test_equivalence</span><span class="op">(</span><span class="va">fit</span>,</span>
<span>                 lower <span class="op">=</span> <span class="op">-</span><span class="fl">0.10</span>,</span>
<span>                 upper <span class="op">=</span> <span class="fl">0.10</span>,</span>
<span>                 alpha <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_33-covariate-balance-diagnostics">3.3 Covariate Balance Diagnostics<a class="anchor" aria-label="anchor" href="#id_33-covariate-balance-diagnostics"></a></h3>
<p><strong>Priority:</strong> Medium <strong>Description:</strong> Tools to assess and visualize covariate balance.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Balance assessment</span></span>
<span><span class="fu">balance_check</span><span class="op">(</span>data <span class="op">=</span> <span class="va">trial01</span>,</span>
<span>              trt <span class="op">=</span> <span class="st">"trtp"</span>,</span>
<span>              covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"sex"</span>, <span class="st">"baseline_severity"</span><span class="op">)</span>,</span>
<span>              standardize <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Propensity score diagnostics (for observational studies extension)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_34-missing-data-handling">3.4 Missing Data Handling<a class="anchor" aria-label="anchor" href="#id_34-missing-data-handling"></a></h3>
<p><strong>Priority:</strong> High <strong>Description:</strong> Integrated missing data methods.</p>
<p><strong>Options:</strong> - Multiple imputation integration - Inverse probability weighting - Doubly robust estimation</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Integration with mice/missForest</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/amices/mice" class="external-link">mice</a></span><span class="op">)</span></span>
<span><span class="va">imp</span> <span class="op">&lt;-</span> <span class="fu">mice</span><span class="op">(</span><span class="va">trial01</span>, m <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span><span class="va">fit_mi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">imp</span>, <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">aval</span> <span class="op">~</span> <span class="va">trtp</span> <span class="op">+</span> <span class="va">bl_cov</span>, family <span class="op">=</span> <span class="st">"binomial"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="reference/get_marginal_effect.html">get_marginal_effect</a></span><span class="op">(</span>trt <span class="op">=</span> <span class="st">"trtp"</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">pool_marginal_effects</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<hr></div>
</div>
<div class="section level2">
<h2 id="id_4-output--reporting-enhancements">4. Output &amp; Reporting Enhancements<a class="anchor" aria-label="anchor" href="#id_4-output--reporting-enhancements"></a></h2>
<div class="section level3">
<h3 id="id_41-enhanced-cardscardx-integration">4.1 Enhanced cards/cardx Integration<a class="anchor" aria-label="anchor" href="#id_41-enhanced-cardscardx-integration"></a></h3>
<p><strong>Priority:</strong> Medium-High <strong>Description:</strong> Native cards ARD output option.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_marginal_effect.html">get_marginal_effect</a></span><span class="op">(</span><span class="va">...</span>, ard_format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"beeca"</span>, <span class="st">"cards"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or conversion</span></span>
<span><span class="fu">as_card</span><span class="op">(</span><span class="va">fit1</span><span class="op">$</span><span class="va">marginal_results</span>, add_formatting <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_42-plotting-functions">4.2 Plotting Functions<a class="anchor" aria-label="anchor" href="#id_42-plotting-functions"></a></h3>
<p><strong>Priority:</strong> High <strong>Description:</strong> Built-in visualization methods.</p>
<p><strong>Plot types:</strong> - Forest plots for treatment effects - Covariate-adjusted response curves - Individual treatment effect distributions - Diagnostic plots (residuals, influence)</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># S3 plot method</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fit</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"forest"</span>, <span class="st">"effects"</span>, <span class="st">"diagnostics"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Using augmented data</span></span>
<span><span class="va">augmented_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span>
<span><span class="fu">plot_ite_distribution</span><span class="op">(</span><span class="va">augmented_data</span><span class="op">)</span></span>
<span><span class="fu">plot_conditional_effects</span><span class="op">(</span><span class="va">augmented_data</span>, by <span class="op">=</span> <span class="st">"bl_cov"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_43-table-generation">4.3 Table Generation<a class="anchor" aria-label="anchor" href="#id_43-table-generation"></a></h3>
<p><strong>Priority:</strong> Medium <strong>Description:</strong> Publication-ready table functions.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Integration with gt/flextable</span></span>
<span><span class="fu">table_marginal_effects</span><span class="op">(</span><span class="va">fit</span>,</span>
<span>                       include_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                       format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gt"</span>, <span class="st">"flextable"</span>, <span class="st">"kable"</span><span class="op">)</span>,</span>
<span>                       footer <span class="op">=</span> <span class="st">"FDA-compliant footnotes"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># CSR-ready tables</span></span>
<span><span class="fu">csr_table</span><span class="op">(</span><span class="va">fit</span>, template <span class="op">=</span> <span class="st">"ICH_E9_R1"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_44-report-generation">4.4 Report Generation<a class="anchor" aria-label="anchor" href="#id_44-report-generation"></a></h3>
<p><strong>Priority:</strong> Low-Medium <strong>Description:</strong> Automated analysis reports.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Quarto/RMarkdown template</span></span>
<span><span class="fu">beeca_report</span><span class="op">(</span><span class="va">fit</span>,</span>
<span>             output_format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"html"</span>, <span class="st">"pdf"</span>, <span class="st">"word"</span><span class="op">)</span>,</span>
<span>             template <span class="op">=</span> <span class="st">"clinical_trial"</span>,</span>
<span>             include_diagnostics <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<hr></div>
</div>
<div class="section level2">
<h2 id="id_5-performance--scalability">5. Performance &amp; Scalability<a class="anchor" aria-label="anchor" href="#id_5-performance--scalability"></a></h2>
<div class="section level3">
<h3 id="id_51-parallelization-support">5.1 Parallelization Support<a class="anchor" aria-label="anchor" href="#id_51-parallelization-support"></a></h3>
<p><strong>Priority:</strong> Medium <strong>Description:</strong> Parallel computing for bootstrap/permutation methods.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_marginal_effect.html">get_marginal_effect</a></span><span class="op">(</span><span class="va">...</span>,</span>
<span>                    method <span class="op">=</span> <span class="st">"bootstrap"</span>,</span>
<span>                    n_boot <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>                    parallel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                    n_cores <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_52-large-dataset-optimization">5.2 Large Dataset Optimization<a class="anchor" aria-label="anchor" href="#id_52-large-dataset-optimization"></a></h3>
<p><strong>Priority:</strong> Low-Medium <strong>Description:</strong> Memory-efficient implementations for large N.</p>
<p><strong>Approaches:</strong> - Sparse matrix operations - Chunked processing - Online variance updates</p>
</div>
<div class="section level3">
<h3 id="id_53-c-backend-for-critical-paths">5.3 C++ Backend for Critical Paths<a class="anchor" aria-label="anchor" href="#id_53-c-backend-for-critical-paths"></a></h3>
<p><strong>Priority:</strong> Low <strong>Description:</strong> Rcpp implementations for computationally intensive operations.</p>
<p><strong>Targets:</strong> - Variance matrix calculations - Bootstrap resampling - G-computation iterations</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="id_6-user-experience-improvements">6. User Experience Improvements<a class="anchor" aria-label="anchor" href="#id_6-user-experience-improvements"></a></h2>
<div class="section level3">
<h3 id="id_61-enhanced-validation--messages">6.1 Enhanced Validation &amp; Messages<a class="anchor" aria-label="anchor" href="#id_61-enhanced-validation--messages"></a></h3>
<p><strong>Priority:</strong> Medium-High <strong>Description:</strong> Better error messages and warnings.</p>
<p><strong>Improvements:</strong> - Informative error messages with suggestions - Progress bars for long-running operations - Diagnostic warnings (convergence, separation, sparse cells)</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example improved message</span></span>
<span><span class="co"># Current: "Error in get_marginal_effect: Invalid trt"</span></span>
<span><span class="co"># Improved: "Error in get_marginal_effect():</span></span>
<span><span class="co">#            Treatment variable 'trt' not found in model.</span></span>
<span><span class="co">#            Did you mean 'trtp'? Available variables: trtp, bl_cov, age"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_62-interactive-shiny-application">6.2 Interactive Shiny Application<a class="anchor" aria-label="anchor" href="#id_62-interactive-shiny-application"></a></h3>
<p><strong>Priority:</strong> Low-Medium <strong>Description:</strong> Web interface for exploratory analysis.</p>
<p><strong>Features:</strong> - Point-and-click analysis setup - Interactive visualizations - Real-time diagnostics - Export to R code</p>
</div>
<div class="section level3">
<h3 id="id_63-workflow-helper-functions">6.3 Workflow Helper Functions<a class="anchor" aria-label="anchor" href="#id_63-workflow-helper-functions"></a></h3>
<p><strong>Priority:</strong> Medium <strong>Description:</strong> Convenience functions for common workflows.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Quick analysis pipeline</span></span>
<span><span class="fu">beeca_pipeline</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">trial01</span>,</span>
<span>  outcome <span class="op">=</span> <span class="st">"aval"</span>,</span>
<span>  treatment <span class="op">=</span> <span class="st">"trtp"</span>,</span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"sex"</span>, <span class="st">"baseline_score"</span><span class="op">)</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"Ye"</span>,</span>
<span>  generate_report <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Template generator</span></span>
<span><span class="fu">beeca_template</span><span class="op">(</span>type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"script"</span>, <span class="st">"quarto"</span>, <span class="st">"shiny"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<hr></div>
</div>
<div class="section level2">
<h2 id="id_7-integration--interoperability">7. Integration &amp; Interoperability<a class="anchor" aria-label="anchor" href="#id_7-integration--interoperability"></a></h2>
<div class="section level3">
<h3 id="id_71-integration-with-validation-frameworks">7.1 Integration with Validation Frameworks<a class="anchor" aria-label="anchor" href="#id_71-integration-with-validation-frameworks"></a></h3>
<p><strong>Priority:</strong> Medium <strong>Description:</strong> Support for GxP validation.</p>
<p><strong>Features:</strong> - Validation documentation - Test qualification - Traceability matrix - 21 CFR Part 11 considerations</p>
</div>
<div class="section level3">
<h3 id="id_72-cdiscadam-integration">7.2 CDISC/ADaM Integration<a class="anchor" aria-label="anchor" href="#id_72-cdiscadam-integration"></a></h3>
<p><strong>Priority:</strong> High <strong>Description:</strong> Direct support for CDISC datasets.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Recognize CDISC variables automatically</span></span>
<span><span class="va">fit_cdisc</span> <span class="op">&lt;-</span> <span class="fu">beeca_adam</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">adtte</span>,  <span class="co"># ADaM dataset</span></span>
<span>  param <span class="op">=</span> <span class="st">"OS"</span>,</span>
<span>  trt_var <span class="op">=</span> <span class="st">"TRT01P"</span>,</span>
<span>  adjust_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AGE"</span>, <span class="st">"SEX"</span>, <span class="st">"BMIBL"</span><span class="op">)</span>,</span>
<span>  strata <span class="op">=</span> <span class="st">"STRATA1"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_73-integration-with-meta-analysis-tools">7.3 Integration with Meta-Analysis Tools<a class="anchor" aria-label="anchor" href="#id_73-integration-with-meta-analysis-tools"></a></h3>
<p><strong>Priority:</strong> Low-Medium <strong>Description:</strong> Facilitate meta-analysis of beeca results.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Export for meta-analysis</span></span>
<span><span class="fu">meta_format</span><span class="op">(</span><span class="va">fit</span>, study_id <span class="op">=</span> <span class="st">"STUDY001"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Pool across studies</span></span>
<span><span class="fu">pool_studies</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">fit1</span>, <span class="va">fit2</span>, <span class="va">fit3</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"fixed_effects"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_74-sas-macro-compatibility">7.4 SAS Macro Compatibility<a class="anchor" aria-label="anchor" href="#id_74-sas-macro-compatibility"></a></h3>
<p><strong>Priority:</strong> Medium <strong>Description:</strong> Exact matching with SAS %margins output.</p>
<p><strong>Features:</strong> - Identical parameter names - Matching output structure - Cross-validation utilities - Migration guides</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="id_8-advanced-statistical-features">8. Advanced Statistical Features<a class="anchor" aria-label="anchor" href="#id_8-advanced-statistical-features"></a></h2>
<div class="section level3">
<h3 id="id_81-adaptive-design-support">8.1 Adaptive Design Support<a class="anchor" aria-label="anchor" href="#id_81-adaptive-design-support"></a></h3>
<p><strong>Priority:</strong> Low-Medium <strong>Description:</strong> Methods for adaptive trials.</p>
<p><strong>Features:</strong> - Group sequential designs - Sample size re-estimation - Conditional power calculations</p>
</div>
<div class="section level3">
<h3 id="id_82-bayesian-extension">8.2 Bayesian Extension<a class="anchor" aria-label="anchor" href="#id_82-bayesian-extension"></a></h3>
<p><strong>Priority:</strong> Low <strong>Description:</strong> Bayesian marginal effects estimation.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit_bayes</span> <span class="op">&lt;-</span> <span class="fu">glm_bayes</span><span class="op">(</span><span class="va">aval</span> <span class="op">~</span> <span class="va">trtp</span> <span class="op">+</span> <span class="va">bl_cov</span>,</span>
<span>                       family <span class="op">=</span> <span class="st">"binomial"</span>,</span>
<span>                       data <span class="op">=</span> <span class="va">trial01</span>,</span>
<span>                       prior <span class="op">=</span> <span class="fu">normal</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">get_marginal_effect_bayes</span><span class="op">(</span>trt <span class="op">=</span> <span class="st">"trtp"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Posterior distributions</span></span>
<span><span class="fu">posterior_summary</span><span class="op">(</span><span class="va">fit_bayes</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_83-sensitivity-analysis-tools">8.3 Sensitivity Analysis Tools<a class="anchor" aria-label="anchor" href="#id_83-sensitivity-analysis-tools"></a></h3>
<p><strong>Priority:</strong> Medium <strong>Description:</strong> Systematic sensitivity analyses.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Sensitivity to model specification</span></span>
<span><span class="fu">sensitivity_model</span><span class="op">(</span></span>
<span>  formulas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="op">~</span> <span class="va">trtp</span> <span class="op">+</span> <span class="va">age</span>,</span>
<span>    <span class="op">~</span> <span class="va">trtp</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">sex</span>,</span>
<span>    <span class="op">~</span> <span class="va">trtp</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">baseline</span></span>
<span>  <span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="va">trial01</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Sensitivity to missing data assumptions</span></span>
<span><span class="fu">sensitivity_missing</span><span class="op">(</span><span class="va">fit</span>, scenarios <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MAR"</span>, <span class="st">"MNAR"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_84-causal-inference-extensions">8.4 Causal Inference Extensions<a class="anchor" aria-label="anchor" href="#id_84-causal-inference-extensions"></a></h3>
<p><strong>Priority:</strong> Medium <strong>Description:</strong> Strengthen causal interpretation tools.</p>
<p><strong>Features:</strong> - Instrumental variable methods - Difference-in-differences - Regression discontinuity designs - Mediation analysis</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="id_9-documentation--education">9. Documentation &amp; Education<a class="anchor" aria-label="anchor" href="#id_9-documentation--education"></a></h2>
<div class="section level3">
<h3 id="id_91-enhanced-vignettes">9.1 Enhanced Vignettes<a class="anchor" aria-label="anchor" href="#id_91-enhanced-vignettes"></a></h3>
<p><strong>Priority:</strong> High <strong>Description:</strong> Comprehensive tutorial vignettes.</p>
<p><strong>Topics:</strong> - Getting started guide - Choosing variance estimators - Interpreting results - Common pitfalls - Real-world case studies - Regulatory considerations - Comparison with other methods/software</p>
</div>
<div class="section level3">
<h3 id="id_92-video-tutorials">9.2 Video Tutorials<a class="anchor" aria-label="anchor" href="#id_92-video-tutorials"></a></h3>
<p><strong>Priority:</strong> Low <strong>Description:</strong> Screencasts and webinars.</p>
</div>
<div class="section level3">
<h3 id="id_93-cheat-sheet">9.3 Cheat Sheet<a class="anchor" aria-label="anchor" href="#id_93-cheat-sheet"></a></h3>
<p><strong>Priority:</strong> Medium <strong>Description:</strong> Quick reference guide.</p>
<p><strong>Format:</strong> RStudio-style PDF cheat sheet</p>
</div>
<div class="section level3">
<h3 id="id_94-benchmark-studies">9.4 Benchmark Studies<a class="anchor" aria-label="anchor" href="#id_94-benchmark-studies"></a></h3>
<p><strong>Priority:</strong> Medium-High <strong>Description:</strong> Performance comparisons documentation.</p>
<p><strong>Comparisons:</strong> - beeca vs SAS %margins - beeca vs RobinCar - beeca vs marginaleffects - Speed benchmarks - Numerical accuracy</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="id_10-quality--maintenance">10. Quality &amp; Maintenance<a class="anchor" aria-label="anchor" href="#id_10-quality--maintenance"></a></h2>
<div class="section level3">
<h3 id="id_101-expanded-test-coverage">10.1 Expanded Test Coverage<a class="anchor" aria-label="anchor" href="#id_101-expanded-test-coverage"></a></h3>
<p><strong>Priority:</strong> High <strong>Description:</strong> Increase test coverage to &gt;95%.</p>
<p><strong>Focus areas:</strong> - Edge cases (perfect separation, sparse data) - Numerical stability - Cross-validation against published results - Simulation-based validation</p>
</div>
<div class="section level3">
<h3 id="id_102-continuous-integration-enhancements">10.2 Continuous Integration Enhancements<a class="anchor" aria-label="anchor" href="#id_102-continuous-integration-enhancements"></a></h3>
<p><strong>Priority:</strong> Medium <strong>Description:</strong> Robust CI/CD pipeline.</p>
<p><strong>Features:</strong> - Multi-platform testing (Windows, Mac, Linux) - Multiple R versions - Performance regression testing - Memory profiling</p>
</div>
<div class="section level3">
<h3 id="id_103-reproducibility-tools">10.3 Reproducibility Tools<a class="anchor" aria-label="anchor" href="#id_103-reproducibility-tools"></a></h3>
<p><strong>Priority:</strong> Medium <strong>Description:</strong> Ensure analysis reproducibility.</p>
<p><strong>Features:</strong> - Session info capture - Seed management for bootstrap - Version pinning utilities - Docker containers</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="priority-summary">Priority Summary<a class="anchor" aria-label="anchor" href="#priority-summary"></a></h2>
<div class="section level3">
<h3 id="immediate-next-release">Immediate (Next Release)<a class="anchor" aria-label="anchor" href="#immediate-next-release"></a></h3>
<ol style="list-style-type: decimal"><li>Enhanced vignettes and documentation</li>
<li>Missing data handling framework</li>
<li>Subgroup analysis support</li>
<li>Plotting functions (forest plots, effects)</li>
<li>cards/cardx native integration</li>
</ol></div>
<div class="section level3">
<h3 id="short-term-6-12-months">Short-term (6-12 months)<a class="anchor" aria-label="anchor" href="#short-term-6-12-months"></a></h3>
<ol style="list-style-type: decimal"><li>Non-inferiority testing</li>
<li>Continuous outcome support</li>
<li>Multiple outcome handling</li>
<li>Enhanced validation messages</li>
<li>CDISC/ADaM integration</li>
</ol></div>
<div class="section level3">
<h3 id="medium-term-1-2-years">Medium-term (1-2 years)<a class="anchor" aria-label="anchor" href="#medium-term-1-2-years"></a></h3>
<ol style="list-style-type: decimal"><li>Bootstrap variance estimation</li>
<li>Sensitivity analysis tools</li>
<li>Table generation functions</li>
<li>SAS macro exact compatibility</li>
<li>Performance optimization</li>
</ol></div>
<div class="section level3">
<h3 id="long-term-2-years">Long-term (2+ years)<a class="anchor" aria-label="anchor" href="#long-term-2-years"></a></h3>
<ol style="list-style-type: decimal"><li>Survival outcome extension (separate package)</li>
<li>Bayesian methods</li>
<li>Shiny application</li>
<li>Advanced causal inference methods</li>
<li>Adaptive design support</li>
</ol><hr></div>
</div>
<div class="section level2">
<h2 id="implementation-considerations">Implementation Considerations<a class="anchor" aria-label="anchor" href="#implementation-considerations"></a></h2>
<div class="section level3">
<h3 id="backward-compatibility">Backward Compatibility<a class="anchor" aria-label="anchor" href="#backward-compatibility"></a></h3>
<ul><li>All enhancements should maintain backward compatibility</li>
<li>Deprecation warnings for any API changes</li>
<li>Minimum 2-version deprecation cycle</li>
</ul></div>
<div class="section level3">
<h3 id="package-size">Package Size<a class="anchor" aria-label="anchor" href="#package-size"></a></h3>
<ul><li>Keep core package lightweight</li>
<li>Consider companion packages for heavy extensions:
<ul><li>
<code>beeca.plots</code> - Visualization</li>
<li>
<code>beeca.survival</code> - Time-to-event</li>
<li>
<code>beeca.bayes</code> - Bayesian methods</li>
<li>
<code>beeca.validate</code> - GxP validation</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a></h3>
<ul><li>Minimize new hard dependencies</li>
<li>Use Suggests for optional features</li>
<li>Consider system requirements carefully</li>
</ul></div>
<div class="section level3">
<h3 id="performance">Performance<a class="anchor" aria-label="anchor" href="#performance"></a></h3>
<ul><li>Profile before optimizing</li>
<li>Use benchmarking for critical paths</li>
<li>Document computational complexity</li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="community-engagement">Community Engagement<a class="anchor" aria-label="anchor" href="#community-engagement"></a></h2>
<div class="section level3">
<h3 id="feature-requests">Feature Requests<a class="anchor" aria-label="anchor" href="#feature-requests"></a></h3>
<ul><li>GitHub issues for feature requests</li>
<li>Community voting on priorities</li>
<li>Regular user surveys</li>
</ul></div>
<div class="section level3">
<h3 id="collaboration-opportunities">Collaboration Opportunities<a class="anchor" aria-label="anchor" href="#collaboration-opportunities"></a></h3>
<ul><li>ASA-BIOP CARS Working Group</li>
<li>PSI (Statisticians in the Pharmaceutical Industry)</li>
<li>EFSPI (European Federation of Statisticians)</li>
<li>Open Pharma working groups</li>
</ul></div>
<div class="section level3">
<h3 id="code-contributions">Code Contributions<a class="anchor" aria-label="anchor" href="#code-contributions"></a></h3>
<ul><li>Clear contribution guidelines</li>
<li>Code review process</li>
<li>Acknowledging contributors</li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a></h2>
<p>This document outlines a comprehensive roadmap for beeca development. Priorities should be guided by: 1. User needs and feedback 2. Regulatory requirements 3. Scientific rigor 4. Maintainability 5. Community input</p>
<p>The package should remain focused on its core mission: providing a simple, reliable, and well-validated implementation of covariate-adjusted marginal effects for binary outcomes in clinical trials.</p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alex Przybylski, Mark Baillie, Craig Wang, Dominic Magirr.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

